<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Entering and cleaning data #1 | R Programming for Research</title>
  <meta name="description" content="This is a bookdown version of the course notes for R Programming for Research, Colorado State University, Fall 2016." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Entering and cleaning data #1 | R Programming for Research" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a bookdown version of the course notes for R Programming for Research, Colorado State University, Fall 2016." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Entering and cleaning data #1 | R Programming for Research" />
  
  <meta name="twitter:description" content="This is a bookdown version of the course notes for R Programming for Research, Colorado State University, Fall 2016." />
  

<meta name="author" content="Brooke Anderson, Rachel Severson, and Nicholas Good" />


<meta name="date" content="2020-08-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-preliminaries.html"/>
<link rel="next" href="exploring-data-1.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<link href="libs/bokehjs-0.12.5/bokeh.min.css" rel="stylesheet" />
<link href="libs/bokehjs-0.12.5/loader.css" rel="stylesheet" />
<script src="libs/bokehjs-0.12.5/bokeh.min.js"></script>
<script src="libs/rbokeh-binding-0.5.1/rbokeh.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.15/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36719749-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36719749-2');
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Programming for Research</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Online course book, ERHS 535</a></li>
<li class="chapter" data-level="" data-path="course-information.html"><a href="course-information.html"><i class="fa fa-check"></i>Course information</a><ul>
<li class="chapter" data-level="0.1" data-path="course-information.html"><a href="course-information.html#course-overview"><i class="fa fa-check"></i><b>0.1</b> Course overview</a></li>
<li class="chapter" data-level="0.2" data-path="course-information.html"><a href="course-information.html#time-and-place"><i class="fa fa-check"></i><b>0.2</b> Time and place</a></li>
<li class="chapter" data-level="0.3" data-path="course-information.html"><a href="course-information.html#detailed-schedule"><i class="fa fa-check"></i><b>0.3</b> Detailed schedule</a></li>
<li class="chapter" data-level="0.4" data-path="course-information.html"><a href="course-information.html#grading"><i class="fa fa-check"></i><b>0.4</b> Grading</a><ul>
<li class="chapter" data-level="0.4.1" data-path="course-information.html"><a href="course-information.html#grading-for-erhs-535"><i class="fa fa-check"></i><b>0.4.1</b> Grading for ERHS 535</a></li>
<li class="chapter" data-level="0.4.2" data-path="course-information.html"><a href="course-information.html#grading-for-erhs-581a3"><i class="fa fa-check"></i><b>0.4.2</b> Grading for ERHS 581A3</a></li>
<li class="chapter" data-level="0.4.3" data-path="course-information.html"><a href="course-information.html#grading-for-erhs-581a4"><i class="fa fa-check"></i><b>0.4.3</b> Grading for ERHS 581A4</a></li>
<li class="chapter" data-level="0.4.4" data-path="course-information.html"><a href="course-information.html#attendance-and-class-participation"><i class="fa fa-check"></i><b>0.4.4</b> Attendance and class participation</a></li>
<li class="chapter" data-level="0.4.5" data-path="course-information.html"><a href="course-information.html#weekly-in-course-group-exercises"><i class="fa fa-check"></i><b>0.4.5</b> Weekly in-course group exercises</a></li>
<li class="chapter" data-level="0.4.6" data-path="course-information.html"><a href="course-information.html#in-class-quizzes"><i class="fa fa-check"></i><b>0.4.6</b> In-class quizzes</a></li>
<li class="chapter" data-level="0.4.7" data-path="course-information.html"><a href="course-information.html#homework"><i class="fa fa-check"></i><b>0.4.7</b> Homework</a></li>
<li class="chapter" data-level="0.4.8" data-path="course-information.html"><a href="course-information.html#final-group-project"><i class="fa fa-check"></i><b>0.4.8</b> Final group project</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="course-information.html"><a href="course-information.html#course-set-up"><i class="fa fa-check"></i><b>0.5</b> Course set-up</a></li>
<li class="chapter" data-level="0.6" data-path="course-information.html"><a href="course-information.html#coursebook"><i class="fa fa-check"></i><b>0.6</b> Coursebook</a><ul>
<li class="chapter" data-level="0.6.1" data-path="course-information.html"><a href="course-information.html#other-helpful-books-not-required"><i class="fa fa-check"></i><b>0.6.1</b> Other helpful books (not required)</a></li>
</ul></li>
<li class="chapter" data-level="0.7" data-path="course-information.html"><a href="course-information.html#in-course-exercise-chapter-0"><i class="fa fa-check"></i><b>0.7</b> In-course Exercise Chapter 0</a><ul>
<li class="chapter" data-level="0.7.1" data-path="course-information.html"><a href="course-information.html#navigate-the-online-course-book"><i class="fa fa-check"></i><b>0.7.1</b> Navigate the online course book</a></li>
<li class="chapter" data-level="0.7.2" data-path="course-information.html"><a href="course-information.html#find-the-video-lectures"><i class="fa fa-check"></i><b>0.7.2</b> Find the video lectures</a></li>
<li class="chapter" data-level="0.7.3" data-path="course-information.html"><a href="course-information.html#try-coding-a-bit"><i class="fa fa-check"></i><b>0.7.3</b> Try coding a bit</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Part I: Preliminaries</b></span></li>
<li class="chapter" data-level="1" data-path="r-preliminaries.html"><a href="r-preliminaries.html"><i class="fa fa-check"></i><b>1</b> R Preliminaries</a><ul>
<li class="chapter" data-level="1.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#objectives"><i class="fa fa-check"></i><b>1.1</b> Objectives</a></li>
<li class="chapter" data-level="1.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#r-and-r-studio"><i class="fa fa-check"></i><b>1.2</b> R and R Studio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#what-is-r"><i class="fa fa-check"></i><b>1.2.1</b> What is R?</a></li>
<li class="chapter" data-level="1.2.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#free-and-open-source-software"><i class="fa fa-check"></i><b>1.2.2</b> Free and open-source software</a></li>
<li class="chapter" data-level="1.2.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#what-is-rstudio"><i class="fa fa-check"></i><b>1.2.3</b> What is RStudio?</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#communicating-with-r"><i class="fa fa-check"></i><b>1.3</b> Communicating with R</a><ul>
<li class="chapter" data-level="1.3.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#r-sessions-the-console-and-the-command-prompt"><i class="fa fa-check"></i><b>1.3.1</b> R sessions, the console, and the command prompt</a></li>
<li class="chapter" data-level="1.3.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#r-expressions-function-calls-and-objects"><i class="fa fa-check"></i><b>1.3.2</b> R expressions, function calls, and objects</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="r-preliminaries.html"><a href="r-preliminaries.html#functions"><i class="fa fa-check"></i><b>1.4</b> Functions</a></li>
<li class="chapter" data-level="1.5" data-path="r-preliminaries.html"><a href="r-preliminaries.html#objects-and-assignment"><i class="fa fa-check"></i><b>1.5</b> Objects and assignment</a></li>
<li class="chapter" data-level="1.6" data-path="r-preliminaries.html"><a href="r-preliminaries.html#more-on-communicating-with-r"><i class="fa fa-check"></i><b>1.6</b> More on communicating with R</a></li>
<li class="chapter" data-level="1.7" data-path="r-preliminaries.html"><a href="r-preliminaries.html#r-scripts"><i class="fa fa-check"></i><b>1.7</b> R scripts</a><ul>
<li class="chapter" data-level="1.7.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#commenting-code"><i class="fa fa-check"></i><b>1.7.1</b> Commenting code</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="r-preliminaries.html"><a href="r-preliminaries.html#the-package-system"><i class="fa fa-check"></i><b>1.8</b> The “package” system</a><ul>
<li class="chapter" data-level="1.8.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#r-packages"><i class="fa fa-check"></i><b>1.8.1</b> R packages</a></li>
<li class="chapter" data-level="1.8.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#installing-from-cran"><i class="fa fa-check"></i><b>1.8.2</b> Installing from CRAN</a></li>
<li class="chapter" data-level="1.8.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#loading-an-installed-package"><i class="fa fa-check"></i><b>1.8.3</b> Loading an installed package</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="r-preliminaries.html"><a href="r-preliminaries.html#rs-most-basic-object-types"><i class="fa fa-check"></i><b>1.9</b> R’s most basic object types</a><ul>
<li class="chapter" data-level="1.9.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#vectors"><i class="fa fa-check"></i><b>1.9.1</b> Vectors</a></li>
<li class="chapter" data-level="1.9.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#dataframes"><i class="fa fa-check"></i><b>1.9.2</b> Dataframes</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="r-preliminaries.html"><a href="r-preliminaries.html#in-course-exercise-chapter-1"><i class="fa fa-check"></i><b>1.10</b> In-course Exercise Chapter 1</a><ul>
<li class="chapter" data-level="1.10.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#trying-out-the-code-in-slides-for-first-lecture-videos"><i class="fa fa-check"></i><b>1.10.1</b> Trying out the code in slides for first lecture videos</a></li>
<li class="chapter" data-level="1.10.2" data-path="r-preliminaries.html"><a href="r-preliminaries.html#writing-your-code-as-an-r-script"><i class="fa fa-check"></i><b>1.10.2</b> Writing your code as an R script</a></li>
<li class="chapter" data-level="1.10.3" data-path="r-preliminaries.html"><a href="r-preliminaries.html#about-the-dataset"><i class="fa fa-check"></i><b>1.10.3</b> About the dataset</a></li>
<li class="chapter" data-level="1.10.4" data-path="r-preliminaries.html"><a href="r-preliminaries.html#manually-creating-vectors"><i class="fa fa-check"></i><b>1.10.4</b> Manually creating vectors</a></li>
<li class="chapter" data-level="1.10.5" data-path="r-preliminaries.html"><a href="r-preliminaries.html#installing-and-using-a-package"><i class="fa fa-check"></i><b>1.10.5</b> Installing and using a package</a></li>
<li class="chapter" data-level="1.10.6" data-path="r-preliminaries.html"><a href="r-preliminaries.html#manually-creating-a-dataframe"><i class="fa fa-check"></i><b>1.10.6</b> Manually creating a dataframe</a></li>
<li class="chapter" data-level="1.10.7" data-path="r-preliminaries.html"><a href="r-preliminaries.html#getting-the-data-onto-your-computer"><i class="fa fa-check"></i><b>1.10.7</b> Getting the data onto your computer</a></li>
<li class="chapter" data-level="1.10.8" data-path="r-preliminaries.html"><a href="r-preliminaries.html#getting-the-data-into-r"><i class="fa fa-check"></i><b>1.10.8</b> Getting the data into R</a></li>
<li class="chapter" data-level="1.10.9" data-path="r-preliminaries.html"><a href="r-preliminaries.html#checking-out-the-data"><i class="fa fa-check"></i><b>1.10.9</b> Checking out the data</a></li>
<li class="chapter" data-level="1.10.10" data-path="r-preliminaries.html"><a href="r-preliminaries.html#using-the-data-to-answer-questions"><i class="fa fa-check"></i><b>1.10.10</b> Using the data to answer questions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Part II: Basics</b></span></li>
<li class="chapter" data-level="2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html"><i class="fa fa-check"></i><b>2</b> Entering and cleaning data #1</a><ul>
<li class="chapter" data-level="2.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#objectives"><i class="fa fa-check"></i><b>2.1</b> Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#overview"><i class="fa fa-check"></i><b>2.2</b> Overview</a></li>
<li class="chapter" data-level="2.3" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-data-into-r"><i class="fa fa-check"></i><b>2.3</b> Reading data into R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-local-flat-files"><i class="fa fa-check"></i><b>2.3.1</b> Reading local flat files</a></li>
<li class="chapter" data-level="2.3.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-in-other-file-types"><i class="fa fa-check"></i><b>2.3.2</b> Reading in other file types</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#directories-and-pathnames"><i class="fa fa-check"></i><b>2.4</b> Directories and pathnames</a><ul>
<li class="chapter" data-level="2.4.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#directory-structure"><i class="fa fa-check"></i><b>2.4.1</b> Directory structure</a></li>
<li class="chapter" data-level="2.4.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#working-directory"><i class="fa fa-check"></i><b>2.4.2</b> Working directory</a></li>
<li class="chapter" data-level="2.4.3" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#file-and-directory-pathnames"><i class="fa fa-check"></i><b>2.4.3</b> File and directory pathnames</a></li>
<li class="chapter" data-level="2.4.4" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#diversion-paste"><i class="fa fa-check"></i><b>2.4.4</b> Diversion: <code>paste</code></a></li>
<li class="chapter" data-level="2.4.5" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-online-flat-files"><i class="fa fa-check"></i><b>2.4.5</b> Reading online flat files</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#data-cleaning"><i class="fa fa-check"></i><b>2.5</b> Data cleaning</a><ul>
<li class="chapter" data-level="2.5.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#renaming-columns"><i class="fa fa-check"></i><b>2.5.1</b> Renaming columns</a></li>
<li class="chapter" data-level="2.5.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#selecting-columns"><i class="fa fa-check"></i><b>2.5.2</b> Selecting columns</a></li>
<li class="chapter" data-level="2.5.3" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#extracting-and-arranging-rows"><i class="fa fa-check"></i><b>2.5.3</b> Extracting and arranging rows</a></li>
<li class="chapter" data-level="2.5.4" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#slicing-and-sampling"><i class="fa fa-check"></i><b>2.5.4</b> Slicing and sampling</a></li>
<li class="chapter" data-level="2.5.5" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#arranging-rows"><i class="fa fa-check"></i><b>2.5.5</b> Arranging rows</a></li>
<li class="chapter" data-level="2.5.6" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#filtering-to-certain-rows"><i class="fa fa-check"></i><b>2.5.6</b> Filtering to certain rows</a></li>
<li class="chapter" data-level="2.5.7" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#add-or-change-columns"><i class="fa fa-check"></i><b>2.5.7</b> Add or change columns</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#piping"><i class="fa fa-check"></i><b>2.6</b> Piping</a><ul>
<li class="chapter" data-level="2.6.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#base-r-equivalents-to-dplyr-functions"><i class="fa fa-check"></i><b>2.6.1</b> Base R equivalents to <code>dplyr</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise"><i class="fa fa-check"></i><b>2.7</b> In-course Exercise</a><ul>
<li class="chapter" data-level="2.7.1" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#downloading-and-checking-out-the-example-data"><i class="fa fa-check"></i><b>2.7.1</b> Downloading and checking out the example data</a></li>
<li class="chapter" data-level="2.7.2" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#reading-in-different-types-of-files"><i class="fa fa-check"></i><b>2.7.2</b> Reading in different types of files</a></li>
<li class="chapter" data-level="2.7.3" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#directory-structure-1"><i class="fa fa-check"></i><b>2.7.3</b> Directory structure</a></li>
<li class="chapter" data-level="2.7.4" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#cleaning-up-data-1"><i class="fa fa-check"></i><b>2.7.4</b> Cleaning up data #1</a></li>
<li class="chapter" data-level="2.7.5" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#cleaning-up-data-2"><i class="fa fa-check"></i><b>2.7.5</b> Cleaning up data #2</a></li>
<li class="chapter" data-level="2.7.6" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#piping-1"><i class="fa fa-check"></i><b>2.7.6</b> Piping</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="exploring-data-1.html"><a href="exploring-data-1.html"><i class="fa fa-check"></i><b>3</b> Exploring data #1</a><ul>
<li class="chapter" data-level="3.1" data-path="r-preliminaries.html"><a href="r-preliminaries.html#objectives"><i class="fa fa-check"></i><b>3.1</b> Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="exploring-data-1.html"><a href="exploring-data-1.html#data-from-a-package"><i class="fa fa-check"></i><b>3.2</b> Data from a package</a></li>
<li class="chapter" data-level="3.3" data-path="exploring-data-1.html"><a href="exploring-data-1.html#logical-vectors"><i class="fa fa-check"></i><b>3.3</b> Logical vectors</a></li>
<li class="chapter" data-level="3.4" data-path="exploring-data-1.html"><a href="exploring-data-1.html#simple-statistics-functions"><i class="fa fa-check"></i><b>3.4</b> Simple statistics functions</a><ul>
<li class="chapter" data-level="3.4.1" data-path="exploring-data-1.html"><a href="exploring-data-1.html#summary-statistics"><i class="fa fa-check"></i><b>3.4.1</b> Summary statistics</a></li>
<li class="chapter" data-level="3.4.2" data-path="exploring-data-1.html"><a href="exploring-data-1.html#summarize-function"><i class="fa fa-check"></i><b>3.4.2</b> <code>summarize</code> function</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="exploring-data-1.html"><a href="exploring-data-1.html#plots-to-explore-data"><i class="fa fa-check"></i><b>3.5</b> Plots to explore data</a><ul>
<li class="chapter" data-level="3.5.1" data-path="exploring-data-1.html"><a href="exploring-data-1.html#initializing-a-ggplot-object"><i class="fa fa-check"></i><b>3.5.1</b> Initializing a ggplot object</a></li>
<li class="chapter" data-level="3.5.2" data-path="exploring-data-1.html"><a href="exploring-data-1.html#plot-aesthetics"><i class="fa fa-check"></i><b>3.5.2</b> Plot aesthetics</a></li>
<li class="chapter" data-level="3.5.3" data-path="exploring-data-1.html"><a href="exploring-data-1.html#adding-geoms"><i class="fa fa-check"></i><b>3.5.3</b> Adding geoms</a></li>
<li class="chapter" data-level="3.5.4" data-path="exploring-data-1.html"><a href="exploring-data-1.html#constant-aesthetics"><i class="fa fa-check"></i><b>3.5.4</b> Constant aesthetics</a></li>
<li class="chapter" data-level="3.5.5" data-path="exploring-data-1.html"><a href="exploring-data-1.html#useful-plot-additions"><i class="fa fa-check"></i><b>3.5.5</b> Useful plot additions</a></li>
<li class="chapter" data-level="3.5.6" data-path="exploring-data-1.html"><a href="exploring-data-1.html#example-dataset"><i class="fa fa-check"></i><b>3.5.6</b> Example dataset</a></li>
<li class="chapter" data-level="3.5.7" data-path="exploring-data-1.html"><a href="exploring-data-1.html#histograms"><i class="fa fa-check"></i><b>3.5.7</b> Histograms</a></li>
<li class="chapter" data-level="3.5.8" data-path="exploring-data-1.html"><a href="exploring-data-1.html#scatterplots"><i class="fa fa-check"></i><b>3.5.8</b> Scatterplots</a></li>
<li class="chapter" data-level="3.5.9" data-path="exploring-data-1.html"><a href="exploring-data-1.html#boxplots"><i class="fa fa-check"></i><b>3.5.9</b> Boxplots</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise"><i class="fa fa-check"></i><b>3.6</b> In-course exercise</a><ul>
<li class="chapter" data-level="3.6.1" data-path="exploring-data-1.html"><a href="exploring-data-1.html#loading-data-from-an-r-package"><i class="fa fa-check"></i><b>3.6.1</b> Loading data from an R package</a></li>
<li class="chapter" data-level="3.6.2" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-simple-statistics-and-summarize"><i class="fa fa-check"></i><b>3.6.2</b> Exploring the data using simple statistics and <code>summarize</code></a></li>
<li class="chapter" data-level="3.6.3" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-logical-statements"><i class="fa fa-check"></i><b>3.6.3</b> Exploring the data using logical statements</a></li>
<li class="chapter" data-level="3.6.4" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-basic-plots-1"><i class="fa fa-check"></i><b>3.6.4</b> Exploring the data using basic plots #1</a></li>
<li class="chapter" data-level="3.6.5" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-basic-plots-2"><i class="fa fa-check"></i><b>3.6.5</b> Exploring the data using basic plots #2</a></li>
<li class="chapter" data-level="3.6.6" data-path="exploring-data-1.html"><a href="exploring-data-1.html#exploring-the-data-using-basic-plots-3"><i class="fa fa-check"></i><b>3.6.6</b> Exploring the data using basic plots #3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html"><i class="fa fa-check"></i><b>4</b> Reporting data results #1</a><ul>
<li class="chapter" data-level="4.1" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#guidelines-for-good-plots"><i class="fa fa-check"></i><b>4.1</b> Guidelines for good plots</a></li>
<li class="chapter" data-level="4.2" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#high-data-density"><i class="fa fa-check"></i><b>4.2</b> High data density</a></li>
<li class="chapter" data-level="4.3" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#meaningful-labels"><i class="fa fa-check"></i><b>4.3</b> Meaningful labels</a></li>
<li class="chapter" data-level="4.4" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#references"><i class="fa fa-check"></i><b>4.4</b> References</a></li>
<li class="chapter" data-level="4.5" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#highlighting"><i class="fa fa-check"></i><b>4.5</b> Highlighting</a></li>
<li class="chapter" data-level="4.6" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#order"><i class="fa fa-check"></i><b>4.6</b> Order</a></li>
<li class="chapter" data-level="4.7" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#small-multiples"><i class="fa fa-check"></i><b>4.7</b> Small multiples</a></li>
<li class="chapter" data-level="4.8" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#advanced-customization"><i class="fa fa-check"></i><b>4.8</b> Advanced customization</a><ul>
<li class="chapter" data-level="4.8.1" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#scales"><i class="fa fa-check"></i><b>4.8.1</b> Scales</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#to-find-out-more"><i class="fa fa-check"></i><b>4.9</b> To find out more</a></li>
<li class="chapter" data-level="4.10" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise"><i class="fa fa-check"></i><b>4.10</b> In-course exercise</a><ul>
<li class="chapter" data-level="4.10.1" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#designing-a-plot"><i class="fa fa-check"></i><b>4.10.1</b> Designing a plot</a></li>
<li class="chapter" data-level="4.10.2" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#implementing-plot-guidelines-1"><i class="fa fa-check"></i><b>4.10.2</b> Implementing plot guidelines #1</a></li>
<li class="chapter" data-level="4.10.3" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#implementing-plot-guidelines-2"><i class="fa fa-check"></i><b>4.10.3</b> Implementing plot guidelines #2</a></li>
<li class="chapter" data-level="4.10.4" data-path="reporting-data-results-1.html"><a href="reporting-data-results-1.html#data-visualization-cheatsheet"><i class="fa fa-check"></i><b>4.10.4</b> Data visualization cheatsheet</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html"><i class="fa fa-check"></i><b>5</b> Reproducible research #1</a><ul>
<li class="chapter" data-level="5.1" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#what-is-reproducible-research"><i class="fa fa-check"></i><b>5.1</b> What is reproducible research?</a></li>
<li class="chapter" data-level="5.2" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#markdown"><i class="fa fa-check"></i><b>5.2</b> Markdown</a></li>
<li class="chapter" data-level="5.3" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#literate-programming-in-r"><i class="fa fa-check"></i><b>5.3</b> Literate programming in R</a></li>
<li class="chapter" data-level="5.4" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#style-guidelines"><i class="fa fa-check"></i><b>5.4</b> Style guidelines</a><ul>
<li class="chapter" data-level="5.4.1" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#line-length"><i class="fa fa-check"></i><b>5.4.1</b> Line length</a></li>
<li class="chapter" data-level="5.4.2" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#spacing"><i class="fa fa-check"></i><b>5.4.2</b> Spacing</a></li>
<li class="chapter" data-level="5.4.3" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#semicolons"><i class="fa fa-check"></i><b>5.4.3</b> Semicolons</a></li>
<li class="chapter" data-level="5.4.4" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#commenting"><i class="fa fa-check"></i><b>5.4.4</b> Commenting</a></li>
<li class="chapter" data-level="5.4.5" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#indentation"><i class="fa fa-check"></i><b>5.4.5</b> Indentation</a></li>
<li class="chapter" data-level="5.4.6" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#code-grouping"><i class="fa fa-check"></i><b>5.4.6</b> Code grouping</a></li>
<li class="chapter" data-level="5.4.7" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#broader-guidelines"><i class="fa fa-check"></i><b>5.4.7</b> Broader guidelines</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#more-with-knitr"><i class="fa fa-check"></i><b>5.5</b> More with knitr</a><ul>
<li class="chapter" data-level="5.5.1" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#equations-in-knitr"><i class="fa fa-check"></i><b>5.5.1</b> Equations in <code>knitr</code></a></li>
<li class="chapter" data-level="5.5.2" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#figures-from-file"><i class="fa fa-check"></i><b>5.5.2</b> Figures from file</a></li>
<li class="chapter" data-level="5.5.3" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#saving-graphics-files"><i class="fa fa-check"></i><b>5.5.3</b> Saving graphics files</a></li>
<li class="chapter" data-level="5.5.4" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#tables-in-r-markdown"><i class="fa fa-check"></i><b>5.5.4</b> Tables in R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise"><i class="fa fa-check"></i><b>5.6</b> In-course exercise</a><ul>
<li class="chapter" data-level="5.6.1" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#creating-a-markdown-document"><i class="fa fa-check"></i><b>5.6.1</b> Creating a Markdown document</a></li>
<li class="chapter" data-level="5.6.2" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#adding-in-r-code"><i class="fa fa-check"></i><b>5.6.2</b> Adding in R code</a></li>
<li class="chapter" data-level="5.6.3" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#working-with-r-markdown-documents"><i class="fa fa-check"></i><b>5.6.3</b> Working with R Markdown documents</a></li>
<li class="chapter" data-level="5.6.4" data-path="reproducible-research-1.html"><a href="reproducible-research-1.html#r-style-guidelines"><i class="fa fa-check"></i><b>5.6.4</b> R style guidelines</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Part III: Intermediate</b></span></li>
<li class="chapter" data-level="6" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html"><i class="fa fa-check"></i><b>6</b> Entering and cleaning data #2</a><ul>
<li class="chapter" data-level="6.1" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#joining-datasets"><i class="fa fa-check"></i><b>6.1</b> Joining datasets</a></li>
<li class="chapter" data-level="6.2" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#tidy-data"><i class="fa fa-check"></i><b>6.2</b> Tidy data</a></li>
<li class="chapter" data-level="6.3" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#longer-data"><i class="fa fa-check"></i><b>6.3</b> Longer data</a></li>
<li class="chapter" data-level="6.4" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#working-with-factors"><i class="fa fa-check"></i><b>6.4</b> Working with factors</a></li>
<li class="chapter" data-level="6.5" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#string-operations-and-regular-expressions"><i class="fa fa-check"></i><b>6.5</b> String operations and regular expressions</a></li>
<li class="chapter" data-level="6.6" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#tidy-select"><i class="fa fa-check"></i><b>6.6</b> Tidy select</a></li>
<li class="chapter" data-level="6.7" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise"><i class="fa fa-check"></i><b>6.7</b> In-course exercise</a><ul>
<li class="chapter" data-level="6.7.1" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#designing-tidy-data"><i class="fa fa-check"></i><b>6.7.1</b> Designing tidy data</a></li>
<li class="chapter" data-level="6.7.2" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#easier-data-wrangling"><i class="fa fa-check"></i><b>6.7.2</b> Easier data wrangling</a></li>
<li class="chapter" data-level="6.7.3" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#more-extensive-data-wrangling"><i class="fa fa-check"></i><b>6.7.3</b> More extensive data wrangling</a></li>
<li class="chapter" data-level="6.7.4" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#tidying-vadeaths-data"><i class="fa fa-check"></i><b>6.7.4</b> Tidying <code>VADeaths</code> data</a></li>
<li class="chapter" data-level="6.7.5" data-path="entering-and-cleaning-data-2.html"><a href="entering-and-cleaning-data-2.html#baby-names"><i class="fa fa-check"></i><b>6.7.5</b> Baby names</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="exploring-data-2.html"><a href="exploring-data-2.html"><i class="fa fa-check"></i><b>7</b> Exploring data #2</a><ul>
<li class="chapter" data-level="7.1" data-path="exploring-data-2.html"><a href="exploring-data-2.html#simple-statistical-tests-in-r"><i class="fa fa-check"></i><b>7.1</b> Simple statistical tests in R</a></li>
<li class="chapter" data-level="7.2" data-path="exploring-data-2.html"><a href="exploring-data-2.html#matrices"><i class="fa fa-check"></i><b>7.2</b> Matrices</a></li>
<li class="chapter" data-level="7.3" data-path="exploring-data-2.html"><a href="exploring-data-2.html#lists"><i class="fa fa-check"></i><b>7.3</b> Lists</a></li>
<li class="chapter" data-level="7.4" data-path="exploring-data-2.html"><a href="exploring-data-2.html#apply-a-test-multiple-times"><i class="fa fa-check"></i><b>7.4</b> Apply a test multiple times</a></li>
<li class="chapter" data-level="7.5" data-path="exploring-data-2.html"><a href="exploring-data-2.html#regression-models"><i class="fa fa-check"></i><b>7.5</b> Regression models</a><ul>
<li class="chapter" data-level="7.5.1" data-path="exploring-data-2.html"><a href="exploring-data-2.html#formula-structure"><i class="fa fa-check"></i><b>7.5.1</b> Formula structure</a></li>
<li class="chapter" data-level="7.5.2" data-path="exploring-data-2.html"><a href="exploring-data-2.html#linear-models"><i class="fa fa-check"></i><b>7.5.2</b> Linear models</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exploring-data-2.html"><a href="exploring-data-2.html#handling-model-objects"><i class="fa fa-check"></i><b>7.6</b> Handling model objects</a><ul>
<li class="chapter" data-level="7.6.1" data-path="exploring-data-2.html"><a href="exploring-data-2.html#broomtidy"><i class="fa fa-check"></i><b>7.6.1</b> broom::tidy</a></li>
<li class="chapter" data-level="7.6.2" data-path="exploring-data-2.html"><a href="exploring-data-2.html#broomaugment"><i class="fa fa-check"></i><b>7.6.2</b> broom::augment</a></li>
<li class="chapter" data-level="7.6.3" data-path="exploring-data-2.html"><a href="exploring-data-2.html#broomglance"><i class="fa fa-check"></i><b>7.6.3</b> broom::glance</a></li>
<li class="chapter" data-level="7.6.4" data-path="exploring-data-2.html"><a href="exploring-data-2.html#references-statistics-in-r"><i class="fa fa-check"></i><b>7.6.4</b> References– statistics in R</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="r-preliminaries.html"><a href="r-preliminaries.html#functions"><i class="fa fa-check"></i><b>7.7</b> Functions</a><ul>
<li class="chapter" data-level="7.7.1" data-path="exploring-data-2.html"><a href="exploring-data-2.html#if-else-statements"><i class="fa fa-check"></i><b>7.7.1</b> if / else statements</a></li>
<li class="chapter" data-level="7.7.2" data-path="exploring-data-2.html"><a href="exploring-data-2.html#some-other-control-structures"><i class="fa fa-check"></i><b>7.7.2</b> Some other control structures</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise"><i class="fa fa-check"></i><b>7.8</b> In-course exercise</a><ul>
<li class="chapter" data-level="7.8.1" data-path="exploring-data-2.html"><a href="exploring-data-2.html#exploring-taxonomic-profiling-data"><i class="fa fa-check"></i><b>7.8.1</b> Exploring taxonomic profiling data</a></li>
<li class="chapter" data-level="7.8.2" data-path="exploring-data-2.html"><a href="exploring-data-2.html#more-with-baby-names"><i class="fa fa-check"></i><b>7.8.2</b> More with baby names</a></li>
<li class="chapter" data-level="7.8.3" data-path="exploring-data-2.html"><a href="exploring-data-2.html#running-a-simple-statistical-test"><i class="fa fa-check"></i><b>7.8.3</b> Running a simple statistical test</a></li>
<li class="chapter" data-level="7.8.4" data-path="exploring-data-2.html"><a href="exploring-data-2.html#using-regression-models-to-explore-data-1"><i class="fa fa-check"></i><b>7.8.4</b> Using regression models to explore data #1</a></li>
<li class="chapter" data-level="7.8.5" data-path="exploring-data-2.html"><a href="exploring-data-2.html#using-regression-models-to-explore-data-2"><i class="fa fa-check"></i><b>7.8.5</b> Using regression models to explore data #2</a></li>
<li class="chapter" data-level="7.8.6" data-path="exploring-data-2.html"><a href="exploring-data-2.html#trying-out-nesting-and-mapping"><i class="fa fa-check"></i><b>7.8.6</b> Trying out nesting and mapping</a></li>
<li class="chapter" data-level="7.8.7" data-path="exploring-data-2.html"><a href="exploring-data-2.html#writing-functions"><i class="fa fa-check"></i><b>7.8.7</b> Writing functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="reporting-results-2.html"><a href="reporting-results-2.html"><i class="fa fa-check"></i><b>8</b> Reporting results #2</a><ul>
<li class="chapter" data-level="8.1" data-path="reporting-results-2.html"><a href="reporting-results-2.html#course-lectures"><i class="fa fa-check"></i><b>8.1</b> Course lectures</a></li>
<li class="chapter" data-level="8.2" data-path="reporting-results-2.html"><a href="reporting-results-2.html#example-data"><i class="fa fa-check"></i><b>8.2</b> Example data</a></li>
<li class="chapter" data-level="8.3" data-path="reporting-results-2.html"><a href="reporting-results-2.html#ggplot2-extras-and-extensions"><i class="fa fa-check"></i><b>8.3</b> <code>ggplot2</code> extras and extensions</a><ul>
<li class="chapter" data-level="8.3.1" data-path="reporting-results-2.html"><a href="reporting-results-2.html#scales-package"><i class="fa fa-check"></i><b>8.3.1</b> <code>scales</code> package</a></li>
<li class="chapter" data-level="8.3.2" data-path="reporting-results-2.html"><a href="reporting-results-2.html#ggplot2-extensions"><i class="fa fa-check"></i><b>8.3.2</b> <code>ggplot2</code> extensions</a></li>
<li class="chapter" data-level="8.3.3" data-path="reporting-results-2.html"><a href="reporting-results-2.html#more-ggplot2-themes"><i class="fa fa-check"></i><b>8.3.3</b> More <code>ggplot2</code> themes</a></li>
<li class="chapter" data-level="8.3.4" data-path="reporting-results-2.html"><a href="reporting-results-2.html#other-useful-ggplot2-extensions"><i class="fa fa-check"></i><b>8.3.4</b> Other useful <code>ggplot2</code> extensions</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="reporting-results-2.html"><a href="reporting-results-2.html#simple-features"><i class="fa fa-check"></i><b>8.4</b> Simple features</a><ul>
<li class="chapter" data-level="8.4.1" data-path="reporting-results-2.html"><a href="reporting-results-2.html#introduction-to-simple-features"><i class="fa fa-check"></i><b>8.4.1</b> Introduction to simple features</a></li>
<li class="chapter" data-level="8.4.2" data-path="reporting-results-2.html"><a href="reporting-results-2.html#state-boundaries"><i class="fa fa-check"></i><b>8.4.2</b> State boundaries</a></li>
<li class="chapter" data-level="8.4.3" data-path="reporting-results-2.html"><a href="reporting-results-2.html#creating-an-sf-object"><i class="fa fa-check"></i><b>8.4.3</b> Creating an <code>sf</code> object</a></li>
<li class="chapter" data-level="8.4.4" data-path="reporting-results-2.html"><a href="reporting-results-2.html#reading-in-from-gis-files"><i class="fa fa-check"></i><b>8.4.4</b> Reading in from GIS files</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise"><i class="fa fa-check"></i><b>8.5</b> In-course exercise</a><ul>
<li class="chapter" data-level="8.5.1" data-path="reporting-results-2.html"><a href="reporting-results-2.html#getting-and-cleaning-the-example-data"><i class="fa fa-check"></i><b>8.5.1</b> Getting and cleaning the example data</a></li>
<li class="chapter" data-level="8.5.2" data-path="reporting-results-2.html"><a href="reporting-results-2.html#trying-out-ggplot2-extensions"><i class="fa fa-check"></i><b>8.5.2</b> Trying out <code>ggplot2</code> extensions</a></li>
<li class="chapter" data-level="8.5.3" data-path="reporting-results-2.html"><a href="reporting-results-2.html#using-simple-features-to-map"><i class="fa fa-check"></i><b>8.5.3</b> Using simple features to map</a></li>
<li class="chapter" data-level="8.5.4" data-path="reporting-results-2.html"><a href="reporting-results-2.html#more-on-mapping"><i class="fa fa-check"></i><b>8.5.4</b> More on mapping</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html"><i class="fa fa-check"></i><b>9</b> Reproducible research #2</a><ul>
<li class="chapter" data-level="9.1" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#templates"><i class="fa fa-check"></i><b>9.1</b> Templates</a></li>
<li class="chapter" data-level="9.2" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#r-projects"><i class="fa fa-check"></i><b>9.2</b> R Projects</a><ul>
<li class="chapter" data-level="9.2.1" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#organization"><i class="fa fa-check"></i><b>9.2.1</b> Organization</a></li>
<li class="chapter" data-level="9.2.2" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#creating-r-projects"><i class="fa fa-check"></i><b>9.2.2</b> Creating R Projects</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#git"><i class="fa fa-check"></i><b>9.3</b> git</a><ul>
<li class="chapter" data-level="9.3.1" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#initializing-a-git-repository"><i class="fa fa-check"></i><b>9.3.1</b> Initializing a git repository</a></li>
<li class="chapter" data-level="9.3.2" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#committing"><i class="fa fa-check"></i><b>9.3.2</b> Committing</a></li>
<li class="chapter" data-level="9.3.3" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#browsing-history"><i class="fa fa-check"></i><b>9.3.3</b> Browsing history</a></li>
<li class="chapter" data-level="9.3.4" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#linking-local-repo-to-github-repo"><i class="fa fa-check"></i><b>9.3.4</b> Linking local repo to GitHub repo</a></li>
<li class="chapter" data-level="9.3.5" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#syncing-rstudio-and-github"><i class="fa fa-check"></i><b>9.3.5</b> Syncing RStudio and GitHub</a></li>
<li class="chapter" data-level="9.3.6" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#issues"><i class="fa fa-check"></i><b>9.3.6</b> Issues</a></li>
<li class="chapter" data-level="9.3.7" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#pull-request"><i class="fa fa-check"></i><b>9.3.7</b> Pull request</a></li>
<li class="chapter" data-level="9.3.8" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#merge-conflicts"><i class="fa fa-check"></i><b>9.3.8</b> Merge conflicts</a></li>
<li class="chapter" data-level="9.3.9" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#find-out-more"><i class="fa fa-check"></i><b>9.3.9</b> Find out more</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise"><i class="fa fa-check"></i><b>9.4</b> In-course exercise</a><ul>
<li class="chapter" data-level="9.4.1" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#organizing-a-project"><i class="fa fa-check"></i><b>9.4.1</b> Organizing a project</a></li>
<li class="chapter" data-level="9.4.2" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#initializing-git-for-an-r-project"><i class="fa fa-check"></i><b>9.4.2</b> Initializing git for an R Project</a></li>
<li class="chapter" data-level="9.4.3" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#linking-your-project-with-a-github-repository"><i class="fa fa-check"></i><b>9.4.3</b> Linking your project with a GitHub repository</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Part IV: Advanced</b></span></li>
<li class="chapter" data-level="10" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html"><i class="fa fa-check"></i><b>10</b> Entering and cleaning data #3</a><ul>
<li class="chapter" data-level="10.1" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#pulling-online-data"><i class="fa fa-check"></i><b>10.1</b> Pulling online data</a><ul>
<li class="chapter" data-level="10.1.1" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#apis"><i class="fa fa-check"></i><b>10.1.1</b> APIs</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#example-r-api-wrapper-packages"><i class="fa fa-check"></i><b>10.2</b> Example R API wrapper packages</a></li>
<li class="chapter" data-level="10.3" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#tigris-package"><i class="fa fa-check"></i><b>10.3</b> <code>tigris</code> package</a></li>
<li class="chapter" data-level="10.4" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#countyweather"><i class="fa fa-check"></i><b>10.4</b> <code>countyweather</code></a></li>
<li class="chapter" data-level="10.5" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#cleaning-very-messy-data"><i class="fa fa-check"></i><b>10.5</b> Cleaning very messy data</a></li>
<li class="chapter" data-level="10.6" data-path="entering-and-cleaning-data-1.html"><a href="entering-and-cleaning-data-1.html#in-course-exercise"><i class="fa fa-check"></i><b>10.6</b> In-course exercise</a><ul>
<li class="chapter" data-level="10.6.1" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#working-with-an-api-wrapper-package"><i class="fa fa-check"></i><b>10.6.1</b> Working with an API wrapper package</a></li>
<li class="chapter" data-level="10.6.2" data-path="entering-and-cleaning-data-3.html"><a href="entering-and-cleaning-data-3.html#cleaning-very-messy-data-1"><i class="fa fa-check"></i><b>10.6.2</b> Cleaning very messy data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="exploring-data-3.html"><a href="exploring-data-3.html"><i class="fa fa-check"></i><b>11</b> Exploring data #3</a><ul>
<li class="chapter" data-level="11.1" data-path="exploring-data-3.html"><a href="exploring-data-3.html#simulations"><i class="fa fa-check"></i><b>11.1</b> Simulations</a><ul>
<li class="chapter" data-level="11.1.1" data-path="exploring-data-3.html"><a href="exploring-data-3.html#the-lady-tasting-tea"><i class="fa fa-check"></i><b>11.1.1</b> The lady tasting tea</a></li>
<li class="chapter" data-level="11.1.2" data-path="exploring-data-3.html"><a href="exploring-data-3.html#playing-darts"><i class="fa fa-check"></i><b>11.1.2</b> Playing darts</a></li>
<li class="chapter" data-level="11.1.3" data-path="exploring-data-3.html"><a href="exploring-data-3.html#simulations-in-research"><i class="fa fa-check"></i><b>11.1.3</b> Simulations in research</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="exploring-data-3.html"><a href="exploring-data-3.html#other-computationally-intensive-approaches"><i class="fa fa-check"></i><b>11.2</b> Other computationally-intensive approaches</a><ul>
<li class="chapter" data-level="11.2.1" data-path="exploring-data-3.html"><a href="exploring-data-3.html#bootstrap-and-friends"><i class="fa fa-check"></i><b>11.2.1</b> Bootstrap and friends</a></li>
<li class="chapter" data-level="11.2.2" data-path="exploring-data-3.html"><a href="exploring-data-3.html#bayesian-analysis"><i class="fa fa-check"></i><b>11.2.2</b> Bayesian analysis</a></li>
<li class="chapter" data-level="11.2.3" data-path="exploring-data-3.html"><a href="exploring-data-3.html#ensemble-models-and-friends"><i class="fa fa-check"></i><b>11.2.3</b> Ensemble models and friends</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html"><i class="fa fa-check"></i><b>12</b> Reporting data results #3</a><ul>
<li class="chapter" data-level="12.1" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#shiny-web-apps"><i class="fa fa-check"></i><b>12.1</b> Shiny web apps</a><ul>
<li class="chapter" data-level="12.1.1" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#resources-for-learning-shiny"><i class="fa fa-check"></i><b>12.1.1</b> Resources for learning Shiny</a></li>
<li class="chapter" data-level="12.1.2" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#basics-of-shiny-apps"><i class="fa fa-check"></i><b>12.1.2</b> Basics of Shiny apps</a></li>
<li class="chapter" data-level="12.1.3" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#server.r-file"><i class="fa fa-check"></i><b>12.1.3</b> <code>server.R</code> file</a></li>
<li class="chapter" data-level="12.1.4" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#ui.r-file"><i class="fa fa-check"></i><b>12.1.4</b> <code>ui.R</code> file</a></li>
<li class="chapter" data-level="12.1.5" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#making-a-shiny-app"><i class="fa fa-check"></i><b>12.1.5</b> Making a Shiny app</a></li>
<li class="chapter" data-level="12.1.6" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#starting-with-the-ui.r-file"><i class="fa fa-check"></i><b>12.1.6</b> Starting with the <code>ui.R</code> file</a></li>
<li class="chapter" data-level="12.1.7" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#adding-in-widgets"><i class="fa fa-check"></i><b>12.1.7</b> Adding in widgets</a></li>
<li class="chapter" data-level="12.1.8" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#creating-output-in-server.r"><i class="fa fa-check"></i><b>12.1.8</b> Creating output in <code>server.R</code></a></li>
<li class="chapter" data-level="12.1.9" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#making-the-output-reactive"><i class="fa fa-check"></i><b>12.1.9</b> Making the output reactive</a></li>
<li class="chapter" data-level="12.1.10" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#fancier-version"><i class="fa fa-check"></i><b>12.1.10</b> Fancier version</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#htmlwidgets"><i class="fa fa-check"></i><b>12.2</b> htmlWidgets</a><ul>
<li class="chapter" data-level="12.2.1" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#overview-of-htmlwidgets"><i class="fa fa-check"></i><b>12.2.1</b> Overview of htmlWidgets</a></li>
<li class="chapter" data-level="12.2.2" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#plotly-package"><i class="fa fa-check"></i><b>12.2.2</b> <code>plotly</code> package</a></li>
<li class="chapter" data-level="12.2.3" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#rbokeh-package"><i class="fa fa-check"></i><b>12.2.3</b> <code>rbokeh</code> package</a></li>
<li class="chapter" data-level="12.2.4" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#dygraphs-package"><i class="fa fa-check"></i><b>12.2.4</b> <code>dygraphs</code> package</a></li>
<li class="chapter" data-level="12.2.5" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#dt-package"><i class="fa fa-check"></i><b>12.2.5</b> <code>DT</code> package</a></li>
<li class="chapter" data-level="12.2.6" data-path="reporting-data-results-3.html"><a href="reporting-data-results-3.html#creating-your-own-widget"><i class="fa fa-check"></i><b>12.2.6</b> Creating your own widget</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html"><i class="fa fa-check"></i><b>13</b> Reproducible research #3</a><ul>
<li class="chapter" data-level="13.1" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#overview-of-r-packages"><i class="fa fa-check"></i><b>13.1</b> Overview of R packages</a><ul>
<li class="chapter" data-level="13.1.1" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#what-is-an-r-package"><i class="fa fa-check"></i><b>13.1.1</b> What is an R package?</a></li>
<li class="chapter" data-level="13.1.2" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#example-nmmaps-package"><i class="fa fa-check"></i><b>13.1.2</b> Example: NMMAPS package</a></li>
<li class="chapter" data-level="13.1.3" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#sharing-an-r-package"><i class="fa fa-check"></i><b>13.1.3</b> Sharing an R package</a></li>
<li class="chapter" data-level="13.1.4" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#package-names"><i class="fa fa-check"></i><b>13.1.4</b> Package names</a></li>
<li class="chapter" data-level="13.1.5" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#package-maintainer"><i class="fa fa-check"></i><b>13.1.5</b> Package maintainer</a></li>
<li class="chapter" data-level="13.1.6" data-path="reproducible-research-2.html"><a href="reproducible-research-2.html#find-out-more"><i class="fa fa-check"></i><b>13.1.6</b> Find out more</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#basic-example-package-weathermetrics"><i class="fa fa-check"></i><b>13.2</b> Basic example package: <code>weathermetrics</code></a><ul>
<li class="chapter" data-level="13.2.1" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#contents-of-weathermetrics-package"><i class="fa fa-check"></i><b>13.2.1</b> Contents of weathermetrics package</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#elements-of-an-r-package"><i class="fa fa-check"></i><b>13.3</b> Elements of an R package</a><ul>
<li class="chapter" data-level="13.3.1" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#basic-elements"><i class="fa fa-check"></i><b>13.3.1</b> Basic elements</a></li>
<li class="chapter" data-level="13.3.2" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#description-file"><i class="fa fa-check"></i><b>13.3.2</b> DESCRIPTION file</a></li>
<li class="chapter" data-level="13.3.3" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#r-folder"><i class="fa fa-check"></i><b>13.3.3</b> R folder</a></li>
<li class="chapter" data-level="13.3.4" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#other-common-elements"><i class="fa fa-check"></i><b>13.3.4</b> Other common elements</a></li>
<li class="chapter" data-level="13.3.5" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#less-common-elements"><i class="fa fa-check"></i><b>13.3.5</b> Less common elements</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#creating-an-r-package"><i class="fa fa-check"></i><b>13.4</b> Creating an R package</a><ul>
<li class="chapter" data-level="13.4.1" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#initializing-an-r-package"><i class="fa fa-check"></i><b>13.4.1</b> Initializing an R package</a></li>
<li class="chapter" data-level="13.4.2" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#working-on-an-r-package"><i class="fa fa-check"></i><b>13.4.2</b> Working on an R package</a></li>
<li class="chapter" data-level="13.4.3" data-path="reproducible-research-3.html"><a href="reproducible-research-3.html#finalizing-an-r-package"><i class="fa fa-check"></i><b>13.4.3</b> Finalizing an R package</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html"><i class="fa fa-check"></i><b>A</b> Appendix A: Vocabulary</a><ul>
<li class="chapter" data-level="A.1" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-1r-preliminaries"><i class="fa fa-check"></i><b>A.1</b> Quiz 1—R Preliminaries</a></li>
<li class="chapter" data-level="A.2" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-2entering-cleaning-data-1"><i class="fa fa-check"></i><b>A.2</b> Quiz 2—Entering / cleaning data #1</a></li>
<li class="chapter" data-level="A.3" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-3"><i class="fa fa-check"></i><b>A.3</b> Quiz 3</a></li>
<li class="chapter" data-level="A.4" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-4"><i class="fa fa-check"></i><b>A.4</b> Quiz 4</a></li>
<li class="chapter" data-level="A.5" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-5"><i class="fa fa-check"></i><b>A.5</b> Quiz 5</a></li>
<li class="chapter" data-level="A.6" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-6"><i class="fa fa-check"></i><b>A.6</b> Quiz 6</a></li>
<li class="chapter" data-level="A.7" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-7"><i class="fa fa-check"></i><b>A.7</b> Quiz 7</a></li>
<li class="chapter" data-level="A.8" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-8"><i class="fa fa-check"></i><b>A.8</b> Quiz 8</a></li>
<li class="chapter" data-level="A.9" data-path="appendix-a-vocabulary.html"><a href="appendix-a-vocabulary.html#quiz-9"><i class="fa fa-check"></i><b>A.9</b> Quiz 9</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html"><i class="fa fa-check"></i><b>B</b> Appendix B: Homework</a><ul>
<li class="chapter" data-level="B.1" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-1"><i class="fa fa-check"></i><b>B.1</b> Homework #1</a><ul>
<li class="chapter" data-level="B.1.1" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#option-1"><i class="fa fa-check"></i><b>B.1.1</b> Option 1</a></li>
<li class="chapter" data-level="B.1.2" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#option-2"><i class="fa fa-check"></i><b>B.1.2</b> Option 2</a></li>
<li class="chapter" data-level="B.1.3" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#special-swirl-commands"><i class="fa fa-check"></i><b>B.1.3</b> Special swirl commands</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-2"><i class="fa fa-check"></i><b>B.2</b> Homework #2</a></li>
<li class="chapter" data-level="B.3" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-3"><i class="fa fa-check"></i><b>B.3</b> Homework #3</a></li>
<li class="chapter" data-level="B.4" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-4"><i class="fa fa-check"></i><b>B.4</b> Homework #4</a></li>
<li class="chapter" data-level="B.5" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-5"><i class="fa fa-check"></i><b>B.5</b> Homework #5</a><ul>
<li class="chapter" data-level="B.5.1" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#setting-up-a-github-repository-for-this-project"><i class="fa fa-check"></i><b>B.5.1</b> Setting up a GitHub repository for this project</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="appendix-b-homework.html"><a href="appendix-b-homework.html#homework-6"><i class="fa fa-check"></i><b>B.6</b> Homework #6</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Programming for Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="entering-and-cleaning-data-1" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Entering and cleaning data #1</h1>
<p>The video lectures for this chapter are embedded at relevant places in the text,
with links to download a pdf of the associated slides for each video.
You can also access <a href="https://www.youtube.com/playlist?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl">a full playlist for the videos for this chapter</a>.</p>
<div id="objectives" class="section level2">
<h2><span class="header-section-number">2.1</span> Objectives</h2>
<p>After this chapter, you should (know / understand / be able to ):</p>
<ul>
<li>Understand what a flat file is and how it differs from data stored in a binary file format</li>
<li>Be able to distinguish between delimited and fixed width formats for flat files</li>
<li>Be able to identify the delimiter in a delimited file</li>
<li>Be able to describe a working directory</li>
<li>Be able to read in different types of flat files</li>
<li>Be able to read in a few types of binary files (SAS, Excel)</li>
<li>Understand the difference between relative and absolute file pathnames</li>
<li>Describe the basics of your computer’s directory structure</li>
<li>Reference files in different locations in your directory structure using relative and absolute pathnames</li>
<li>Use the basic <code>dplyr</code> functions <code>rename</code>, <code>select</code>, <code>mutate</code>, <code>slice</code>, <code>filter</code>, and <code>arrange</code> to work with data in a dataframe object</li>
<li>Convert a column to a date format using <code>lubridate</code> functions</li>
<li>Extract information from a date object (e.g., month, year, day of week) using <code>lubridate</code> functions</li>
<li>Define a logical operator and know the R syntax for common logical operators</li>
<li>Use logical operators in conjunction with <code>dplyr</code>’s <code>filter</code> function to create subsets of a dataframe based on logical conditions</li>
<li>Use piping to apply multiple <code>dplyr</code> functions in sequence to a dataframe</li>
</ul>
</div>
<div id="overview" class="section level2">
<h2><span class="header-section-number">2.2</span> Overview</h2>
<iframe width="768" height="480" src="https://www.youtube.com/embed/HIWxtOK0-DI?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_1.pdf">Download</a>
a pdf of the lecture slides for this video.</p>
<p>There are four basic steps you will often repeat as you prepare to analyze data
in R:</p>
<ol style="list-style-type: decimal">
<li>Identify where the data is (If it’s on your computer, which directory? If
it’s online, what’s the url?)</li>
<li>Read data into R (e.g., <code>read_delim</code>, <code>read_csv</code> from the <code>readr</code> package)
using the file path you figured out in step 1</li>
<li>Check to make sure the data came in correctly (<code>dim</code>, <code>head</code>, <code>tail</code>, <code>str</code>)</li>
<li>Clean the data up</li>
</ol>
<p>In this chapter, I’ll go basics for each of these steps, as well as dive a bit
deeper into some related topics you should learn now to make your life easier as
you get started using R for research.</p>
</div>
<div id="reading-data-into-r" class="section level2">
<h2><span class="header-section-number">2.3</span> Reading data into R</h2>
<p>Data comes in files of all shapes and sizes. R has the capability to read data
in from many of these, even proprietary files for other software (e.g., Excel
and SAS files). As a small sample, here are some of the types of data files that
R can read and work with:</p>
<ul>
<li>Flat files (much more about these in just a minute)</li>
<li>Files from other statistical packages (SAS, Excel, Stata, SPSS)</li>
<li>Tables on webpages (e.g., the table on ebola outbreaks near the end of <a href="http://en.wikipedia.org/wiki/Ebola_virus_epidemic_in_West_Africa">this
Wikipedia
page</a>)</li>
<li>Data in a database (e.g., MySQL, Oracle)</li>
<li>Data in JSON and XML formats</li>
<li>Really crazy data formats used in other disciplines (e.g., netCDF files from
climate research, MRI data stored in Analyze, NIfTI, and DICOM formats)</li>
<li>Geographic shapefiles</li>
<li>Data through APIs</li>
</ul>
<p>Often, it is possible to read in and clean up even incredibly messy data, by
using functions like <code>scan</code> and <code>readLines</code> to read the data in a line at a
time, and then using regular expressions (which I’ll cover in the “Intermediate”
section of the course) to clean up each line as it comes in. In over a decade of
coding in R, I think the only time I’ve come across a data file I couldn’t get
into R was for proprietary precision agriculture data collected at harvest by a
combine.</p>
<div id="reading-local-flat-files" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Reading local flat files</h3>
<p>Much of the data that you will want to read in will be in flat files. Basically,
these are files that you can open using a text editor; the most common type
you’ll work with are probably comma-separated files (often with a <code>.csv</code> or
<code>.txt</code> file extension). Most flat files come in two general categories:</p>
<ol style="list-style-type: decimal">
<li><p>Fixed width files; and</p></li>
<li><p>Delimited files:</p></li>
</ol>
<ul>
<li>“.csv”: Comma-separated values</li>
<li>“.tab”, “.tsv”: Tab-separated values</li>
<li>Other possible delimiters: colon, semicolon, pipe (“|”)</li>
</ul>
<p><em>Fixed width files</em> are files where a column always has the same width, for all
the rows in the column. These tend to look very neat and easy-to-read when you
open them in a text editor. For example, the first few rows of a fixed-width
file might look like this:</p>
<pre><code>Course            Number          Day          Time
Intro to Epi      501             M/W/F        9:00-9:50
Advanced Epi      521             T/Th         1:00-2:15</code></pre>
<p>Fixed width files used to be very popular, and they make it easier to look at data
when you open the file in a text editor. However, now it’s pretty rare to just use
a text editor to open a file and check out the data, and these files can be a bit
of a pain to read into R and other programs because you sometimes have to specify
exactly how wide each of the columns is. You may come across a fixed width file
every now and then, though, particularly when working with older data sets, so it’s
useful to be able to recognize one and to know how to read it in.</p>
<p><em>Delimited files</em> use some <em>delimiter</em> (for example, a column or a tab) to
separate each column value within a row. The first few rows of a delimited file
might look like this:</p>
<pre><code>Course, Number, Day, Time
&quot;Intro to Epi&quot;, 501, &quot;M/W/F&quot;, &quot;9:00-9:50&quot;
&quot;Advanced Epi&quot;, 521, &quot;T/Th&quot;, &quot;1:00-2:15&quot;</code></pre>
<p>Delimited files are very easy to read into R. You just need to be able to figure
out what character is used as a delimiter (commas in the example above) and
specify that to R in the function call to read in the data.</p>
<p>These flat files can have a number of different file extensions. The most
generic is <code>.txt</code>, but they will also have ones more specific to their format,
like <code>.csv</code> for a comma-delimited file or <code>.fwf</code> for a fixed with file.</p>
<iframe width="768" height="480" src="https://www.youtube.com/embed/A5VRVjSQ_Ws?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_2.pdf">Download</a>
a pdf of the lecture slides for this video.</p>
<p>R can read in data from both fixed with and delimited flat files. The only catch
is that you need to tell R a bit more about the format of the flat file,
including whether it is fixed width or delimited. If the file is fixed width,
you will usually have to tell R the width of each column. If the file is
delimited, you’ll need to tell R which delimiter is being used.</p>
<p>If the file is delimited, you can use the <code>read_delim</code> family of functions from
the <code>readr</code> package to read it in. This family of functions includes several
specialized functions. All members of the <code>read_delim</code> family are doing the same
basic thing. The only difference is what defaults each function has for the
delimiter (<code>delim</code>). Members of the <code>read_delim</code> family include:</p>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Delimiter</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>read_csv</code></td>
<td>comma</td>
</tr>
<tr class="even">
<td><code>read_csv2</code></td>
<td>semi-colon</td>
</tr>
<tr class="odd">
<td><code>read_table2</code></td>
<td>whitespace</td>
</tr>
<tr class="even">
<td><code>read_tsv</code></td>
<td>tab</td>
</tr>
</tbody>
</table>
<p>You can use <code>read_delim</code> to read in any delimited file, regardless of the delimiter.
However, you will need to specify the delimiter using the <code>delim</code> parameters. If you
remember the more specialized function call (e.g., <code>read_csv</code> for a comma delimited
file), therefore, you can save yourself some typing.</p>
<p>For example, to read in the Ebola data, which is comma-delimited, you could
either use <code>read_table</code> with a <code>delim</code> argument specified or use <code>read_csv</code>, in
which case you don’t have to specify <code>delim</code>:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="entering-and-cleaning-data-1.html#cb185-1"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;readr&quot;</span>)</span>
<span id="cb185-2"><a href="entering-and-cleaning-data-1.html#cb185-2"></a></span>
<span id="cb185-3"><a href="entering-and-cleaning-data-1.html#cb185-3"></a><span class="co"># The following two calls do the same thing</span></span>
<span id="cb185-4"><a href="entering-and-cleaning-data-1.html#cb185-4"></a>ebola &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="dt">file =</span> <span class="st">&quot;data/country_timeseries.csv&quot;</span>, <span class="dt">delim =</span> <span class="st">&quot;,&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="entering-and-cleaning-data-1.html#cb186-1"></a>ebola &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="dt">file =</span> <span class="st">&quot;data/country_timeseries.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Date = col_character(),
##   Day = col_double(),
##   Cases_Guinea = col_double(),
##   Cases_Liberia = col_double(),
##   Cases_SierraLeone = col_double(),
##   Cases_Nigeria = col_double(),
##   Cases_Senegal = col_double(),
##   Cases_UnitedStates = col_double(),
##   Cases_Spain = col_double(),
##   Cases_Mali = col_double(),
##   Deaths_Guinea = col_double(),
##   Deaths_Liberia = col_double(),
##   Deaths_SierraLeone = col_double(),
##   Deaths_Nigeria = col_double(),
##   Deaths_Senegal = col_double(),
##   Deaths_UnitedStates = col_double(),
##   Deaths_Spain = col_double(),
##   Deaths_Mali = col_double()
## )</code></pre>
<div class="rmdtip">
<p>
The message that R prints after this call (“Parsed with column specification:..”) lets you know what classes were used for each column (this function tries to guess the appropriate class and typically gets it right). You can suppress the message using the <code>cols_types = cols()</code> argument.
</p>
<p>
If <code>readr</code> doesn’t correctly guess some of the columns classes you can use the <code>type_convert()</code> function to take another go at guessing them after you’ve tweaked the formats of the rogue columns.
</p>
</div>
<p>This family of functions has a few other helpful options you can specify. For example,
if you want to skip the first few lines of a file before you start reading in the data,
you can use <code>skip</code> to set the number of lines to skip. If you only want to read in
a few lines of the data, you can use the <code>n_max</code> option. For example, if you have a
really long file, and you want to save time by only reading in the first ten lines
as you figure out what other options to use in <code>read_delim</code> for that file, you could
include the option <code>n_max = 10</code> in the <code>read_delim</code> call. Here is a table of some of
the most useful options common to the <code>read_delim</code> family of functions:</p>
<table>
<thead>
<tr class="header">
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>skip</code></td>
<td>How many lines of the start of the file should you skip?</td>
</tr>
<tr class="even">
<td><code>col_names</code></td>
<td>What would you like to use as the column names?</td>
</tr>
<tr class="odd">
<td><code>col_types</code></td>
<td>What would you like to use as the column types?</td>
</tr>
<tr class="even">
<td><code>n_max</code></td>
<td>How many rows do you want to read in?</td>
</tr>
<tr class="odd">
<td><code>na</code></td>
<td>How are missing values coded?</td>
</tr>
</tbody>
</table>
<div class="rmdnote">
<p>
Remember that you can always find out more about a function by looking at its help file. For example, check out <code>?read_delim</code> and <code>?read_fwf</code>. You can also use the help files to determine the default values of arguments for each function.
</p>
</div>
<p>So far, we’ve only looked at functions from the <code>readr</code> package for reading in data
files. There is a similar family of functions available in base R, the <code>read.table</code>
family of functions. The <code>readr</code> family of functions is very similar to the base R
<code>read.table</code> functions, but have some more sensible defaults. Compared to the
<code>read.table</code> family of functions, the <code>readr</code> functions:</p>
<ul>
<li>Work better with large datasets: faster, includes progress bar</li>
<li>Have more sensible defaults (e.g., characters default to characters, not factors)</li>
</ul>
<p>I recommend that you always use the <code>readr</code> functions rather than their base R
alternatives, given these advantages. However, you are likely to come across code
that someone else has written that uses one of these base R functions, so it’s
helpful to know what they are. Functions in the <code>read.table</code> family include:</p>
<ul>
<li><code>read.csv</code></li>
<li><code>read.delim</code></li>
<li><code>read.table</code></li>
<li><code>read.fwf</code></li>
</ul>
<div class="rmdnote">
<p>
The <code>readr</code> package is a member of the tidyverse of packages. The <em>tidyverse</em> describes an evolving collection of R packages with a common philosophy, and they are unquestionably changing the way people code in R. Many were developed in part or full by Hadley Wickham and others at RStudio. Many of these packages are less than ten years old, but have been rapidly adapted by the R community. As a result, newer examples of R code will often look very different from the code in older R scripts, including examples in books that are more than a few years old. In this course, I’ll focus on “tidyverse” functions when possible, but I do put in details about base R equivalent functions or processes at some points—this will help you interpret older code. You can download all the tidyverse packages using <code>install.packages(“tidyverse”)</code>, <code>library(“tidyverse”)</code> makes all the tidyverse functions available for use.
</p>
</div>
</div>
<div id="reading-in-other-file-types" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Reading in other file types</h3>
<p>Later in the course, we’ll talk about how to open a variety of other file types
in R. However, you might find it immediately useful to be able to read in files
from other statistical programs.</p>
<p>There are two “tidyverse” packages—<code>readxl</code> and <code>haven</code>—that help with this.
They allow you to read in files from the following formats:</p>
<table>
<thead>
<tr class="header">
<th align="left">File type</th>
<th align="left">Function</th>
<th align="left">Package</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Excel</td>
<td align="left"><code>read_excel</code></td>
<td align="left"><code>readxl</code></td>
</tr>
<tr class="even">
<td align="left">SAS</td>
<td align="left"><code>read_sas</code></td>
<td align="left"><code>haven</code></td>
</tr>
<tr class="odd">
<td align="left">SPSS</td>
<td align="left"><code>read_spss</code></td>
<td align="left"><code>haven</code></td>
</tr>
<tr class="even">
<td align="left">Stata</td>
<td align="left"><code>read_stata</code></td>
<td align="left"><code>haven</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="directories-and-pathnames" class="section level2">
<h2><span class="header-section-number">2.4</span> Directories and pathnames</h2>
<div id="directory-structure" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Directory structure</h3>
<iframe width="768" height="480" src="https://www.youtube.com/embed/Ll5seRpzekY?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_3.pdf">Download</a>
a pdf of the lecture slides for this video.</p>
<p>So far, we’ve only looked at reading in files that are located in your current
working directory. For example, if you’re working in an R Project, by default
the project will open with that directory as the working directory, so you can
read files that are saved in that project’s main directory using only the file
name as a reference.</p>
<p>However, you’ll often want to read in files that are located somewhere else on
your computer, or even files that are saved on another computer (for example,
data files that are posted online). Doing this is very similar to reading in a
file that is in your current working directory; the only difference is that you
need to give R some directions so it can find the file.</p>
<p>The most common case will be reading in files in a subdirectory of your current
working directory. For example, you may have created a “data” subdirectory in
one of your R Projects directories to keep all the project’s data files in the
same place while keeping the structure of the main directory fairly clean. In
this case, you’ll need to direct R into that subdirectory when you want to read
one of those files.</p>
<p>To understand how to give R these directions, you need to have some
understanding of the directory structure of your computer. It seems a bit of a
pain and a bit complex to have to think about computer directory structure in
the “basics” part of this class, but this structure is not terribly complex once
you get the idea of it. There are a couple of very good reasons why it’s worth
learning now.</p>
<p>First, many of the most frustrating errors you get when you start using R trace
back to understanding directories and filepaths. For example, when you try to
read a file into R using only the filename, and that file is not in your current
working directory, you will get an error like:</p>
<pre><code>Error in file(file, &quot;rt&quot;) : cannot open the connection
In addition: Warning message:
In file(file, &quot;rt&quot;) : cannot open file &#39;Ex.csv&#39;: No such file or directory</code></pre>
<p>This error is especially frustrating when you’re new to R because it happens at
the very beginning of your analysis—you can’t even get your data in. Also, if
you don’t understand a bit about working directories and how R looks for the
file you’re asking it to find, you’d have no idea where to start to fix this
error. Second, once you understand how to use pathnames, especially relative
pathnames, to tell R how to find a file that is in a directory other than your
working directory, you will be able to organize all of your files for a project
in a much cleaner way. For example, you can create a directory for your project,
then create one subdirectory to store all of your R scripts, and another to
store all of your data, and so on. This can help you keep very complex projects
more structured and easier to navigate. We’ll talk about these ideas more in the
course sections on Reproducible Research, but it’s good to start learning how
directory structures and filepaths work early.</p>
<p>Your computer organizes files through a collection of directories. Chances are,
you are fairly used to working with these in your daily life already (although
you may call them “folders” rather than “directories”). For example, you’ve
probably created new directories to store data files and Word documents for a
specific project.</p>
<p>Figure <a href="entering-and-cleaning-data-1.html#fig:filedirstructure">2.1</a> gives an example file directory structure for
a hypothetical computer. Directories are shown in blue, and files in green.</p>
<div class="figure" style="text-align: center"><span id="fig:filedirstructure"></span>
<img src="figures/FileDirectoryStructure.png" alt="An example of file directory structure." width="600pt" />
<p class="caption">
Figure 2.1: An example of file directory structure.
</p>
</div>
<p>You can notice a few interesting things from Figure <a href="entering-and-cleaning-data-1.html#fig:filedirstructure">2.1</a>.
First, you might notice the structure includes a few of the directories that you
use a lot on your own computer, like <code>Desktop</code>, <code>Documents</code>, and <code>Downloads</code>.
Next, the directory at the very top is the computer’s root directory, <code>/</code>. For a
PC, the root directory might something like <code>C:</code>; for Unix and Macs, it’s
usually <code>/</code>. Finally, if you look closely, you’ll notice that it’s possible to
have different files in different locations of the directory structure with the
same file name. For example, in the figure, there are files names
<code>heat_mort.csv</code> in both the <code>CourseText</code> directory and in the <code>example_data</code>
directory. These are two different files with different contents, but they can
have the same name as long as they’re in different directories. This fact—that
you can have files with the same name in different places—should help you
appreciate how useful it is that R requires you to give very clear directions to
describe exactly which file you want R to read in, if you aren’t reading in
something in your current working directory.</p>
<p>You will have a home directory somewhere near the top of your structure,
although it’s likely not your root directory. In the hypothetic computer in
Figure <a href="entering-and-cleaning-data-1.html#fig:filedirstructure">2.1</a>, the home directory is
<code>/Users/brookeanderson</code>. I’ll describe just a bit later how you can figure out
what your own home directory is on your own computer.</p>
</div>
<div id="working-directory" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Working directory</h3>
<p>When you run R, it’s always running from within some working directory, which
will be one of the directories somewhere in your computer’s directory structure.
At any time, you can figure out which directory R is working in by running the
command <code>getwd()</code> (short for “get working directory”). For example, my R session
is currently running in the following directory:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="entering-and-cleaning-data-1.html#cb189-1"></a><span class="kw">getwd</span>()</span></code></pre></div>
<pre><code>## [1] &quot;/Users/georgianaanderson/Documents/my_books/RProgrammingForResearch&quot;</code></pre>
<p>This means that, for my current R session, R is working in the
<code>RProgrammingForResearch</code> subdirectory of my <code>brookeanderson</code> directory (which
is my home directory).</p>
<p>There are a few general rules for which working directory R will start in when
you open an R session. These are not absolute rules, but they’re generally true.
If you have R closed, and you open it by double-clicking on an R script, then R
will generally open with, as its working directory, the directory in which that
script is stored. This is often a very convenient convention, because often any
of the data you’ll be reading in for that script is somewhere near where the
script file is saved in the directory structure. If you open R by
double-clicking on the R icon in “Applications” (or something similar on a PC),
R will start in its default working directory. You can find out what this is, or
change it, in RStudio’s “Preferences”. Finally, if you open
an R Project, R will start in that project’s working directory (the directory in
which the <code>.Rproj</code> file for the project is stored).</p>
</div>
<div id="file-and-directory-pathnames" class="section level3">
<h3><span class="header-section-number">2.4.3</span> File and directory pathnames</h3>
<iframe width="768" height="480" src="https://www.youtube.com/embed/vutYRvQj36c?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_4.pdf">Download</a>
a pdf of the lecture slides for this video.</p>
<p>Once you get a picture of how your directories and files are organized, you can
use pathnames, either absolute or relative, to read in files from different
directories than your current working directory. Pathnames are the directions
for getting to a directory or file stored on your computer.</p>
<p>When you want to reference a directory or file, you can use one of two types of
pathnames:</p>
<ul>
<li><em>Relative pathname</em>: How to get to the file or directory from your current
working directory</li>
<li><em>Absolute pathname</em>: How to get to the file or directory from anywhere on the
computer</li>
</ul>
<p>Absolute pathnames are a bit more straightforward conceptually, because they
don’t depend on your current working directory. However, they’re also a lot
longer to write, and they’re much less convenient if you’ll be sharing some of
your code with other people who might run it on their own computers. I’ll
explain this second point a bit more later in this section.</p>
<p><em>Absolute pathnames</em> give the full directions to a directory or file, starting
all the way at the root directory. For example, the <code>heat_mort.csv</code> file in the
<code>CourseText</code> directory has the absolute pathname:</p>
<pre><code>&quot;/Users/brookeanderson/Desktop/RCourseFall2015/CourseText/heat_mort.csv&quot;</code></pre>
<p>You can use this absolute pathname to read this file in using any of the <code>readr</code>
functions to read in data. This absolute pathname will <em>always</em> work, regardless
of your current working directory, because it gives directions from the
root—it will always be clear to R exactly what file you’re talking about.
Here’s the code to use to read that file in using the <code>read.csv</code> function with
the file’s absolute pathname:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="entering-and-cleaning-data-1.html#cb192-1"></a>heat_mort &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="dt">file =</span> <span class="st">&quot;/Users/brookeanderson/Desktop/RCourseFall2015/CourseText/heat_mort.csv&quot;</span>)</span></code></pre></div>
<p>The <em>relative pathname</em>, on the other hand, gives R the directions for how to
get to a directory or file from the current working directory. If the file or
directory you’re looking for is pretty close to your current working directory
in your directory structure, then a relative pathname can be a much shorter way
to tell R how to get to the file than an absolute pathname. However, the
relative pathname depends on your current working directory—the relative
pathname that works perfectly when you’re working in one directory will not work
at all once you move into a different working directory.</p>
<p>As an example of a relative pathname, say you’re working in the directory
<code>RCourseFall2015</code> within the file structure shown in Figure
<a href="entering-and-cleaning-data-1.html#fig:filedirstructure">2.1</a>, and you want to read in the <code>heat_mort.csv</code> file in
the <code>CourseText</code> directory. To get from <code>RCourseFall2015</code> to that file, you’d
need to look in the subdirectory <code>CourseText</code>, where you could find
<code>heat_mort.csv</code>. Therefore, the relative pathname from your working directory
would be:</p>
<pre><code>&quot;CourseText/heat_mort.csv&quot;</code></pre>
<p>You can use this relative pathname to tell R where to find and read in the file:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="entering-and-cleaning-data-1.html#cb194-1"></a>heat_mort &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;CourseText/heat_mort.csv&quot;</span>)</span></code></pre></div>
<p>While this pathname is much shorter than the absolute pathname, it is important
to remember that if you are working in a different working directory, this
relative pathname would no longer work.</p>
<p>There are a few abbreviations that can be really useful for pathnames:</p>
<table>
<thead>
<tr class="header">
<th align="left">Shorthand</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>~</code></td>
<td align="left">Home directory</td>
</tr>
<tr class="even">
<td align="left"><code>.</code></td>
<td align="left">Current working directory</td>
</tr>
<tr class="odd">
<td align="left"><code>..</code></td>
<td align="left">One directory up from current working directory</td>
</tr>
<tr class="even">
<td align="left"><code>../..</code></td>
<td align="left">Two directories up from current working directory</td>
</tr>
</tbody>
</table>
<p>These can help you keep pathnames shorter and also help you move “up-and-over”
to get to a file or directory that’s not on the direct path below your current
working directory.</p>
<p>For example, my home directory is <code>/Users/brookeanderson</code>. You can use the
<code>list.files()</code> function to list all the files in a directory. If I wanted to
list all the files in my <code>Downloads</code> directory, which is a direct sub-directory
of my home directory, I could use:</p>
<pre><code>list.files(&quot;~/Downloads&quot;)</code></pre>
<p>As a second example, say I was working in the working directory <code>CourseText</code>,
but I wanted to read in the <code>heat_mort.csv</code> file that’s in the <code>example_data</code>
directory, rather than the one in the <code>CourseText</code> directory. I can use the <code>..</code>
abbreviation to tell R to look up one directory from the current working
directory, and then down within a subdirectory of that. The relative pathname in
this case is:</p>
<pre><code>&quot;../Week2_Aug31/example_data/heat_mort.csv&quot;</code></pre>
<p>This tells R to look one directory up from the working directory (<code>..</code>) (this is
also known as the <strong>parent directory</strong> of the current directory), which in this
case is to <code>RCourseFall2015</code>, and then down within that directory to
<code>Week2_Aug31</code>, then to <code>example_data</code>, and then to look there for the file
<code>heat_mort.csv</code>.</p>
<p>The relative pathname to read this file while R is working in the <code>CourseTest</code>
directory would be:</p>
<pre><code>heat_mort &lt;- read_csv(&quot;../Week2_Aug31/example_data/heat_mort.csv&quot;)</code></pre>
<p>Relative pathnames “break” as soon as you tried them from a different working
directory—this fact might make it seem like you would never want to use
relative pathnames, and would always want to use absolute ones instead, even if
they’re longer. If that were the only consideration (length of the pathname),
then perhaps that would be true. However, as you do more and more in R, there
will likely be many occasions when you want to use relative pathnames instead.
They are particularly useful if you ever want to share a whole directory, with
all subdirectories, with a collaborator. In that case, if you’ve used relative
pathnames, all the code should work fine for the person you share with, even
though they’re running it on their own computer. Conversely, if you’d used
absolute pathnames, none of them would work on another computer, because the
“top” of the directory structure (i.e., for me, <code>/Users/brookeanderson/Desktop</code>)
will almost definitely be different for your collaborator’s computer than it is
for yours.</p>
<p>If you’re getting errors reading in files, and you think it’s related to the
relative pathname you’re using, it’s often helpful to use <code>list.files()</code> to make
sure the file you’re trying to load is in the directory that the relative
pathname you’re using is directing R to.</p>
</div>
<div id="diversion-paste" class="section level3">
<h3><span class="header-section-number">2.4.4</span> Diversion: <code>paste</code></h3>
<p>This is a good opportunity to explain how to use some functions that can be very
helpful when you’re using relative or absolute pathnames: <code>paste()</code> and
<code>paste0()</code>.</p>
<p>As a bit of important background information, it’s important that you understand
that you can save a pathname (absolute or relative) as an R object, and then use
that R object in calls to later functions like <code>list.files()</code> and <code>read_csv()</code>.
For example, to use the absolute pathname to read the <code>heat_mort.csv</code> file in
the <code>CourseText</code> directory, you could run:</p>
<pre><code>my_file &lt;- &quot;/Users/brookeanderson/Desktop/RCourseFall2015/CourseText/heat_mort.csv&quot;
heat_mort &lt;- read_csv(file = my_file)</code></pre>
<p>You’ll notice from this code that the pathname to get to a directory or file can
sometimes become ungainly and long. To keep your code cleaner, you can address
this by using the <code>paste</code> or <code>paste0</code> functions. These functions come in handy
in a lot of other applications, too, but this is a good place to introduce them.</p>
<p>The <code>paste()</code> function is very straightforward. It takes, as inputs, a series of
different character strings you want to join together, and it pastes them
together in a single character string. (As a note, this means that your result
vector will only be one element long, for basic uses of <code>paste()</code>, while the
inputs will be several different character stings.) You separate all the
different things you want to paste together using with commas in the function
call. For example:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="entering-and-cleaning-data-1.html#cb199-1"></a><span class="kw">paste</span>(<span class="st">&quot;Sunday&quot;</span>, <span class="st">&quot;Monday&quot;</span>, <span class="st">&quot;Tuesday&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Sunday Monday Tuesday&quot;</code></pre>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="entering-and-cleaning-data-1.html#cb201-1"></a><span class="kw">length</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;Sunday&quot;</span>, <span class="st">&quot;Monday&quot;</span>, <span class="st">&quot;Tuesday&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="entering-and-cleaning-data-1.html#cb203-1"></a><span class="kw">length</span>(<span class="dt">x =</span> <span class="kw">paste</span>(<span class="st">&quot;Sunday&quot;</span>, <span class="st">&quot;Monday&quot;</span>, <span class="st">&quot;Tuesday&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>The <code>paste()</code> function has an option called <code>sep =</code>. This tells R what you want
to use to separate the values you’re pasting together in the output. The default
is for R to use a space, as shown in the example above. To change the separator,
you can change this option, and you can put in just about anything you want. For
example, if you wanted to paste all the values together without spaces, you
could use <code>sep = ""</code>:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="entering-and-cleaning-data-1.html#cb205-1"></a><span class="kw">paste</span>(<span class="st">&quot;Sunday&quot;</span>, <span class="st">&quot;Monday&quot;</span>, <span class="st">&quot;Tuesday&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;SundayMondayTuesday&quot;</code></pre>
<p>As a shortcut, instead of using the <code>sep = ""</code> option, you could achieve the
same thing using the <code>paste0</code> function. This function is almost exactly like
<code>paste</code>, but it defaults to <code>""</code> (i.e., no space) as the separator between
values by default:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="entering-and-cleaning-data-1.html#cb207-1"></a><span class="kw">paste0</span>(<span class="st">&quot;Sunday&quot;</span>, <span class="st">&quot;Monday&quot;</span>, <span class="st">&quot;Tuesday&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;SundayMondayTuesday&quot;</code></pre>
<p>With pathnames, you will usually not want spaces. Therefore, you could think
about using <code>paste0()</code> to write an object with the pathname you want to
ultimately use in commands like <code>list.files()</code> and <code>setwd()</code>. This will allow
you to keep your code cleaner, since you can now divide long pathnames over
multiple lines:</p>
<pre><code>my_file &lt;- paste0(&quot;/Users/brookeanderson/Desktop/&quot;,
                  &quot;RCourseFall2015/CourseText/heat_mort.csv&quot;)
heat_mort &lt;- read_csv(file = my_file)</code></pre>
<p>You will end up using <code>paste()</code> and <code>paste0()</code> for many other applications, but
this is a good example of how you can start using these functions to start to
get a feel for them.</p>
</div>
<div id="reading-online-flat-files" class="section level3">
<h3><span class="header-section-number">2.4.5</span> Reading online flat files</h3>
<p>So far, I’ve only shown you how to read in data from files that are saved to
your computer. R can also read in data directly from the web. If a flat file is
posted online, you can read it into R in almost exactly the same way that you
would read in a local file. The only difference is that you will use the file’s
url instead of a local file path for the <code>file</code> argument.</p>
<p>With the <code>read_*</code> family of functions, you can do this both for flat files from
a non-secure webpage (i.e., one that starts with <code>http</code>) and for files from a
secure webpage (i.e., one that starts with <code>https</code>), including GitHub and
Dropbox.</p>
<p>For example, to read in data from this <a href="https://raw.githubusercontent.com/cmrivers/ebola/master/country_timeseries.csv">GitHub repository of Ebola
data</a>,
you can run:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="entering-and-cleaning-data-1.html#cb210-1"></a><span class="kw">library</span>(<span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb210-2"><a href="entering-and-cleaning-data-1.html#cb210-2"></a>url &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;https://raw.githubusercontent.com/cmrivers/&quot;</span>,</span>
<span id="cb210-3"><a href="entering-and-cleaning-data-1.html#cb210-3"></a>              <span class="st">&quot;ebola/master/country_timeseries.csv&quot;</span>)</span>
<span id="cb210-4"><a href="entering-and-cleaning-data-1.html#cb210-4"></a>ebola &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="dt">file =</span> url)</span>
<span id="cb210-5"><a href="entering-and-cleaning-data-1.html#cb210-5"></a><span class="kw">slice</span>(<span class="dt">.data =</span> (<span class="kw">select</span>(<span class="dt">.data =</span> ebola, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)), <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   Date       Day Cases_Guinea
##   &lt;chr&gt;    &lt;dbl&gt;        &lt;dbl&gt;
## 1 1/5/2015   289         2776
## 2 1/4/2015   288         2775
## 3 1/3/2015   287         2769</code></pre>
</div>
</div>
<div id="data-cleaning" class="section level2">
<h2><span class="header-section-number">2.5</span> Data cleaning</h2>
<iframe width="768" height="480" src="https://www.youtube.com/embed/uimHCVdYgwM?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_5.pdf">Download</a>
a pdf of the lecture slides for this video.</p>
<p>Once you have loaded data into R, you’ll likely need to clean it up a little
before you’re ready to analyze it. Here, I’ll go over the first steps of how to
do that with functions from <code>dplyr</code>, another package in the tidyverse. Here are
some of the most common data-cleaning tasks, along with the corresponding
<code>dplyr</code> function for each:</p>
<table>
<thead>
<tr class="header">
<th align="left">Task</th>
<th align="left"><code>dplyr</code> function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Renaming columns</td>
<td align="left"><code>rename</code></td>
</tr>
<tr class="even">
<td align="left">Filtering to certain rows</td>
<td align="left"><code>filter</code></td>
</tr>
<tr class="odd">
<td align="left">Selecting certain columns</td>
<td align="left"><code>select</code></td>
</tr>
<tr class="even">
<td align="left">Adding or changing columns</td>
<td align="left"><code>mutate</code></td>
</tr>
</tbody>
</table>
<p>In this section, I’ll describe how to do each of these tasks; in later
sections of the course, we’ll go much deeper into how to clean messier data.</p>
<p>For the examples in this section, I’ll use example data listing guests to the
Daily Show. To follow along with these examples, you’ll want to load that data,
as well as load the <code>dplyr</code> package (install it using <code>install.packages</code> if you
have not already):</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="entering-and-cleaning-data-1.html#cb212-1"></a><span class="kw">library</span>(<span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb212-2"><a href="entering-and-cleaning-data-1.html#cb212-2"></a>daily_show &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="dt">file =</span> <span class="st">&quot;data/daily_show_guests.csv&quot;</span>, <span class="dt">skip =</span> <span class="dv">4</span>)</span></code></pre></div>
<p>I’ve used this data in previous examples, but as a reminder, here’s what it looks like:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="entering-and-cleaning-data-1.html#cb213-1"></a><span class="kw">head</span>(<span class="dt">x =</span> daily_show)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 5
##    YEAR GoogleKnowlege_Occupation Show    Group  Raw_Guest_List  
##   &lt;dbl&gt; &lt;chr&gt;                     &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;           
## 1  1999 actor                     1/11/99 Acting Michael J. Fox  
## 2  1999 Comedian                  1/12/99 Comedy Sandra Bernhard 
## 3  1999 television actress        1/13/99 Acting Tracey Ullman   
## 4  1999 film actress              1/14/99 Acting Gillian Anderson
## 5  1999 actor                     1/18/99 Acting David Alan Grier
## 6  1999 actor                     1/19/99 Acting William Baldwin</code></pre>
<div id="renaming-columns" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Renaming columns</h3>
<p>A first step is often re-naming the columns of the dataframe. It can be hard to
work with a column name that:</p>
<ul>
<li>is long</li>
<li>includes spaces or other special characters</li>
<li>includes upper case</li>
</ul>
<p>You can check out the column names for a dataframe using the <code>colnames</code>
function, with the dataframe object as the argument. Several of the column names
in <code>daily_show</code> have some of these issues:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="entering-and-cleaning-data-1.html#cb215-1"></a><span class="kw">colnames</span>(<span class="dt">x =</span> daily_show)</span></code></pre></div>
<pre><code>## [1] &quot;YEAR&quot;                      &quot;GoogleKnowlege_Occupation&quot;
## [3] &quot;Show&quot;                      &quot;Group&quot;                    
## [5] &quot;Raw_Guest_List&quot;</code></pre>
<p>To rename these columns, use <code>rename</code>. The basic syntax is:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="entering-and-cleaning-data-1.html#cb217-1"></a><span class="co">## Generic code</span></span>
<span id="cb217-2"><a href="entering-and-cleaning-data-1.html#cb217-2"></a><span class="kw">rename</span>(<span class="dt">.data =</span> dataframe, </span>
<span id="cb217-3"><a href="entering-and-cleaning-data-1.html#cb217-3"></a>       <span class="dt">new_column_name_1 =</span> old_column_name_<span class="dv">1</span>,</span>
<span id="cb217-4"><a href="entering-and-cleaning-data-1.html#cb217-4"></a>       <span class="dt">new_column_name_2 =</span> old_column_name_<span class="dv">2</span>)</span></code></pre></div>
<p>The first argument is the dataframe for which you’d like to rename columns. Then
you list each pair of new versus old column names (in that order) for each of
the columns you want to rename. To rename columns in the <code>daily_show</code> data using
<code>rename</code>, for example, you would run:</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="entering-and-cleaning-data-1.html#cb218-1"></a>daily_show &lt;-<span class="st"> </span><span class="kw">rename</span>(<span class="dt">.data =</span> daily_show,</span>
<span id="cb218-2"><a href="entering-and-cleaning-data-1.html#cb218-2"></a>                     <span class="dt">year =</span> YEAR,</span>
<span id="cb218-3"><a href="entering-and-cleaning-data-1.html#cb218-3"></a>                     <span class="dt">job =</span> GoogleKnowlege_Occupation, </span>
<span id="cb218-4"><a href="entering-and-cleaning-data-1.html#cb218-4"></a>                     <span class="dt">date =</span> Show, </span>
<span id="cb218-5"><a href="entering-and-cleaning-data-1.html#cb218-5"></a>                     <span class="dt">category =</span> Group,</span>
<span id="cb218-6"><a href="entering-and-cleaning-data-1.html#cb218-6"></a>                     <span class="dt">guest_name =</span> Raw_Guest_List)</span>
<span id="cb218-7"><a href="entering-and-cleaning-data-1.html#cb218-7"></a><span class="kw">head</span>(<span class="dt">x =</span> daily_show, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 5
##    year job                date    category guest_name     
##   &lt;dbl&gt; &lt;chr&gt;              &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;          
## 1  1999 actor              1/11/99 Acting   Michael J. Fox 
## 2  1999 Comedian           1/12/99 Comedy   Sandra Bernhard
## 3  1999 television actress 1/13/99 Acting   Tracey Ullman</code></pre>
<div class="rmdwarning">
<p>
Many of the functions in tidyverse packages, including those in <code>dplyr</code>, provide exceptions to the general rule about when to use quotation marks versus when to leave them off. Unfortunately, this may make it a bit hard to learn when to use quotation marks versus when not to. One way to think about this, which is a bit of an oversimplification but can help as you’re learning, is to assume that anytime you’re using a <code>dplyr</code> function, every column in the dataframe you’re working with has been loaded to your R session as its own object.
</p>
</div>
</div>
<div id="selecting-columns" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Selecting columns</h3>
<iframe width="659" height="412" src="https://www.youtube.com/embed/yAYm_V6Y1Cw?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_6.pdf">Download</a>
a pdf of the lecture slides for this video.</p>
<p>Next, you may want to select only some columns of the dataframe. You can use the
<code>select</code> function from <code>dplyr</code> to subset the dataframe to certain columns. The
basic structure of this command is:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="entering-and-cleaning-data-1.html#cb220-1"></a><span class="co">## Generic code</span></span>
<span id="cb220-2"><a href="entering-and-cleaning-data-1.html#cb220-2"></a><span class="kw">select</span>(<span class="dt">.data =</span> dataframe, column_name_<span class="dv">1</span>, column_name_<span class="dv">2</span>, ...)</span></code></pre></div>
<p>In this call, you first specify the dataframe to use and then list all of the
column names to include in the output dataframe, with commas between each column
name. For example, to select all columns in <code>daily_show</code> except <code>year</code> (since
that information is already included in <code>date</code>), run:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="entering-and-cleaning-data-1.html#cb221-1"></a><span class="kw">select</span>(<span class="dt">.data =</span> daily_show, job, date, category, guest_name)</span></code></pre></div>
<pre><code>## # A tibble: 2,693 x 4
##    job                date    category guest_name      
##    &lt;chr&gt;              &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;           
##  1 actor              1/11/99 Acting   Michael J. Fox  
##  2 Comedian           1/12/99 Comedy   Sandra Bernhard 
##  3 television actress 1/13/99 Acting   Tracey Ullman   
##  4 film actress       1/14/99 Acting   Gillian Anderson
##  5 actor              1/18/99 Acting   David Alan Grier
##  6 actor              1/19/99 Acting   William Baldwin 
##  7 Singer-lyricist    1/20/99 Musician Michael Stipe   
##  8 model              1/21/99 Media    Carmen Electra  
##  9 actor              1/25/99 Acting   Matthew Lillard 
## 10 stand-up comedian  1/26/99 Comedy   David Cross     
## # … with 2,683 more rows</code></pre>
<div class="rmdwarning">
<p>
Don’t forget that, if you want to change column names in the saved object, you must reassign the object to be the output of <code>rename</code>. If you run one of these cleaning functions without reassigning the object, R will print out the result, but the object itself won’t change. You can take advantage of this, as I’ve done in this example, to look at the result of applying a function to a dataframe without changing the original dataframe. This can be helpful as you’re figuring out how to write your code.
</p>
</div>
<p>The <code>select</code> function also provides some time-saving tools. For example, in the
last example, we wanted all the columns except one. Instead of writing out all
the columns we want, we can use <code>-</code> with the columns we don’t want to save time:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="entering-and-cleaning-data-1.html#cb223-1"></a>daily_show &lt;-<span class="st"> </span><span class="kw">select</span>(<span class="dt">.data =</span> daily_show, <span class="op">-</span>year)</span>
<span id="cb223-2"><a href="entering-and-cleaning-data-1.html#cb223-2"></a><span class="kw">head</span>(<span class="dt">x =</span> daily_show, <span class="dt">n =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 4
##   job                date    category guest_name     
##   &lt;chr&gt;              &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;          
## 1 actor              1/11/99 Acting   Michael J. Fox 
## 2 Comedian           1/12/99 Comedy   Sandra Bernhard
## 3 television actress 1/13/99 Acting   Tracey Ullman</code></pre>
</div>
<div id="extracting-and-arranging-rows" class="section level3">
<h3><span class="header-section-number">2.5.3</span> Extracting and arranging rows</h3>
<iframe width="659" height="412" src="https://www.youtube.com/embed/vIxlSmbFsQ0?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_7.pdf">Download</a>
a pdf of the lecture slides for this video.</p>
<p>There are a number of different actions you can take to extract or rearrange rows from a dataset to clean it up for your current analysis, including:</p>
<ul>
<li><code>slice</code></li>
<li><code>sample_n</code></li>
<li><code>arrange</code></li>
<li><code>filter</code></li>
</ul>
<p>We’ll go through what each of these does and how to use them.</p>
</div>
<div id="slicing-and-sampling" class="section level3">
<h3><span class="header-section-number">2.5.4</span> Slicing and sampling</h3>
<p>The <code>slice</code> function from the <code>dplyr</code> package can extract certain rows based on
their position in the dataframe.</p>
<p>We already looked at this a bit in Chapter 1.
In the last chapter, you learned how to use the <code>slice</code> function
to limit a dataframe to certain rows by row position.</p>
<p>For example, to print the first three rows of the <code>daily_show</code> data, you can
run:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="entering-and-cleaning-data-1.html#cb225-1"></a><span class="kw">library</span>(<span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb225-2"><a href="entering-and-cleaning-data-1.html#cb225-2"></a><span class="kw">slice</span>(<span class="dt">.data =</span> daily_show, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 4
##   job                date    category guest_name     
##   &lt;chr&gt;              &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;          
## 1 actor              1/11/99 Acting   Michael J. Fox 
## 2 Comedian           1/12/99 Comedy   Sandra Bernhard
## 3 television actress 1/13/99 Acting   Tracey Ullman</code></pre>
<p>There are some other functions you can use to extract rows from a tibble dataframe,
all from the “dplyr” package.</p>
<p>For example, if you’d like to extract a random subset of <em>n</em> rows, you can use the
<code>sample_n</code> function, with the <code>size</code> argument set to <em>n</em>.</p>
<p>To extract two random rows from the <code>daily_show</code> dataframe, run:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="entering-and-cleaning-data-1.html#cb227-1"></a><span class="kw">sample_n</span>(<span class="dt">tbl =</span> daily_show, <span class="dt">size =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 4
##   job      date    category guest_name      
##   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;           
## 1 actress  1/22/15 Acting   Jennifer Aniston
## 2 comedian 3/22/00 Comedy   Eric Idle</code></pre>
</div>
<div id="arranging-rows" class="section level3">
<h3><span class="header-section-number">2.5.5</span> Arranging rows</h3>
<p>There is also a function, <code>arrange</code>, you can use to re-order the rows in a
dataframe based on the values in one of its columns. The syntax for this
function is:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="entering-and-cleaning-data-1.html#cb229-1"></a><span class="co"># Generic code</span></span>
<span id="cb229-2"><a href="entering-and-cleaning-data-1.html#cb229-2"></a><span class="kw">arrange</span>(<span class="dt">.data =</span> dataframe, column_to_order_by)</span></code></pre></div>
<p>If you run this function to use a character vector to order, it will order the
rows alphabetically by the values in that column. If you specify a numeric
vector, it will order the rows by the numeric value.</p>
<p>For example, we could reorder the <code>daily_show</code> data alphabetically by the values
in the <code>category</code> column with the following call:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="entering-and-cleaning-data-1.html#cb230-1"></a>daily_show &lt;-<span class="st"> </span><span class="kw">arrange</span>(<span class="dt">.data =</span> daily_show, category)</span>
<span id="cb230-2"><a href="entering-and-cleaning-data-1.html#cb230-2"></a><span class="kw">slice</span>(<span class="dt">.data =</span> daily_show, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 4
##   job       date    category guest_name       
##   &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;            
## 1 professor 10/3/01 Academic Stephen S. Morse 
## 2 Professor 12/3/01 Academic Nadine Strossen  
## 3 Historian 11/4/03 Academic Michael Beschloss</code></pre>
<p>If you want the ordering to be reversed (e.g., from “z” to “a” for character
vectors, from higher to lower for numeric, latest to earliest for a Date), you
can include the <code>desc</code> function.</p>
<p>For example, to reorder the <code>daily_show</code> data by job category in descending
alphabetical order, you can run:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="entering-and-cleaning-data-1.html#cb232-1"></a>daily_show &lt;-<span class="st"> </span><span class="kw">arrange</span>(<span class="dt">.data =</span> daily_show, </span>
<span id="cb232-2"><a href="entering-and-cleaning-data-1.html#cb232-2"></a>                      <span class="kw">desc</span>(<span class="dt">x =</span> category))</span>
<span id="cb232-3"><a href="entering-and-cleaning-data-1.html#cb232-3"></a><span class="kw">slice</span>(<span class="dt">.data =</span> daily_show, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 4
##   job          date    category guest_name     
##   &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;          
## 1 neurosurgeon 4/28/03 Science  Dr Sanjay Gupta
## 2 scientist    1/13/04 Science  Catherine Weitz</code></pre>
</div>
<div id="filtering-to-certain-rows" class="section level3">
<h3><span class="header-section-number">2.5.6</span> Filtering to certain rows</h3>
<p>Next, you might want to filter the dataset down so that it only includes certain
rows. For example, you might want to get a dataset with only the guests from
2015, or only guests who are scientists.</p>
<p>You can use the <code>filter</code> function from <code>dplyr</code> to filter a dataframe down to a
subset of rows. The syntax is:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="entering-and-cleaning-data-1.html#cb234-1"></a><span class="co">## Generic code</span></span>
<span id="cb234-2"><a href="entering-and-cleaning-data-1.html#cb234-2"></a><span class="kw">filter</span>(<span class="dt">.data =</span> dataframe, logical expression)</span></code></pre></div>
<p>The <code>logical expression</code> in this call gives the condition that a row must meet to
be included in the output data frame. For example, if you want to create a data
frame that only includes guests who were scientists, you can run:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="entering-and-cleaning-data-1.html#cb235-1"></a>scientists &lt;-<span class="st"> </span><span class="kw">filter</span>(<span class="dt">.data =</span> daily_show, </span>
<span id="cb235-2"><a href="entering-and-cleaning-data-1.html#cb235-2"></a>                     category <span class="op">==</span><span class="st"> &quot;Science&quot;</span>)</span>
<span id="cb235-3"><a href="entering-and-cleaning-data-1.html#cb235-3"></a><span class="kw">head</span>(<span class="dt">x =</span> scientists)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   job            date    category guest_name            
##   &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;                 
## 1 neurosurgeon   4/28/03 Science  Dr Sanjay Gupta       
## 2 scientist      1/13/04 Science  Catherine Weitz       
## 3 physician      6/15/04 Science  Hassan Ibrahim        
## 4 doctor         9/6/05  Science  Dr. Marc Siegel       
## 5 astronaut      2/13/06 Science  Astronaut Mike Mullane
## 6 Astrophysicist 1/30/07 Science  Neil deGrasse Tyson</code></pre>
<p>To build a logical expression to use in <code>filter</code>, you’ll need to know some of R’s
logical operators. Some of the most commonly used ones are:</p>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>==</code></td>
<td>equals</td>
<td><code>category == "Acting"</code></td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>does not equal</td>
<td><code>category != "Comedy"</code></td>
</tr>
<tr class="odd">
<td><code>%in%</code></td>
<td>is in</td>
<td><code>category %in% c("Academic", "Science")</code></td>
</tr>
<tr class="even">
<td><code>is.na()</code></td>
<td>is missing</td>
<td><code>is.na(job)</code></td>
</tr>
<tr class="odd">
<td><code>!is.na()</code></td>
<td>is not missing</td>
<td><code>!is.na(job)</code></td>
</tr>
<tr class="even">
<td><code>&amp;</code></td>
<td>and</td>
<td><code>year == 2015 &amp; category == "Academic"</code></td>
</tr>
<tr class="odd">
<td><code>|</code></td>
<td>or</td>
<td><code>year == 2015 | category == "Academic"</code></td>
</tr>
</tbody>
</table>
<p>We’ll use these logical operators and expressions a lot more as the course
continues, so they’re worth learning by heart.</p>
<div class="rmdwarning">
<p>
Two common errors with logical operators are: (1) Using <code>=</code> instead of <code>==</code> to check if two values are equal; and (2) Using <code>== NA</code> instead of <code>is.na</code> to check for missing observations.
</p>
</div>
</div>
<div id="add-or-change-columns" class="section level3">
<h3><span class="header-section-number">2.5.7</span> Add or change columns</h3>
<iframe width="659" height="412" src="https://www.youtube.com/embed/_oC0WrrTf5Q?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_8.pdf">Download</a>
a pdf of the lecture slides for this video.</p>
<p>You can change a column or add a new column using the <code>mutate</code> function from the
<code>dplyr</code> package. That function has the syntax:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="entering-and-cleaning-data-1.html#cb237-1"></a><span class="co"># Generic code</span></span>
<span id="cb237-2"><a href="entering-and-cleaning-data-1.html#cb237-2"></a><span class="kw">mutate</span>(<span class="dt">.data =</span> dataframe,</span>
<span id="cb237-3"><a href="entering-and-cleaning-data-1.html#cb237-3"></a>       <span class="dt">changed_column =</span> <span class="cf">function</span>(changed_column),</span>
<span id="cb237-4"><a href="entering-and-cleaning-data-1.html#cb237-4"></a>       <span class="dt">new_column =</span> <span class="cf">function</span>(other arguments))</span></code></pre></div>
<p>For example, the <code>job</code> column in <code>daily_show</code> sometimes uses upper case and
sometimes does not (this call uses the <code>unique</code> function to list only unique
values in this column):</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="entering-and-cleaning-data-1.html#cb238-1"></a><span class="kw">head</span>(<span class="dt">x =</span> <span class="kw">unique</span>(<span class="dt">x =</span> daily_show<span class="op">$</span>job), <span class="dt">n =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;neurosurgeon&quot;   &quot;scientist&quot;      &quot;physician&quot;      &quot;doctor&quot;        
##  [5] &quot;astronaut&quot;      &quot;Astrophysicist&quot; &quot;Surgeon&quot;        &quot;Neuroscientist&quot;
##  [9] &quot;primatologist&quot;  &quot;Neurologist&quot;</code></pre>
<p>To make all the observations in the <code>job</code> column lowercase, use the <code>str_to_lower</code> function from the <code>stringr</code> package within a <code>mutate</code> function:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="entering-and-cleaning-data-1.html#cb240-1"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;stringr&quot;</span>)</span>
<span id="cb240-2"><a href="entering-and-cleaning-data-1.html#cb240-2"></a><span class="kw">mutate</span>(<span class="dt">.data =</span> daily_show, </span>
<span id="cb240-3"><a href="entering-and-cleaning-data-1.html#cb240-3"></a>       <span class="dt">job =</span> <span class="kw">str_to_lower</span>(<span class="dt">string =</span> job))</span></code></pre></div>
<pre><code>## # A tibble: 2,693 x 4
##    job            date    category guest_name            
##    &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;                 
##  1 neurosurgeon   4/28/03 Science  Dr Sanjay Gupta       
##  2 scientist      1/13/04 Science  Catherine Weitz       
##  3 physician      6/15/04 Science  Hassan Ibrahim        
##  4 doctor         9/6/05  Science  Dr. Marc Siegel       
##  5 astronaut      2/13/06 Science  Astronaut Mike Mullane
##  6 astrophysicist 1/30/07 Science  Neil deGrasse Tyson   
##  7 surgeon        3/6/07  Science  Richard Jadick        
##  8 physician      3/8/07  Science  Dr. Sharon Moalem     
##  9 astrophysicist 7/23/07 Science  Neil deGrasse Tyson   
## 10 neuroscientist 4/1/08  Science  Simon LeVay           
## # … with 2,683 more rows</code></pre>
</div>
</div>
<div id="piping" class="section level2">
<h2><span class="header-section-number">2.6</span> Piping</h2>
<iframe width="659" height="412" src="https://www.youtube.com/embed/fSJR0cM1qT0?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_9.pdf">Download</a> a pdf of the lecture slides for this video.</p>
<p>So far, I’ve shown how to use these <code>dplyr</code> functions one at a time to clean up
the data, reassigning the dataframe object at each step. However, there’s a
trick called “piping” that will let you clean up your code a bit when you’re
writing a script to clean data.</p>
<p>If you look at the format of these <code>dplyr</code> functions, you’ll notice that they
all take a dataframe as their first argument:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="entering-and-cleaning-data-1.html#cb242-1"></a><span class="co"># Generic code</span></span>
<span id="cb242-2"><a href="entering-and-cleaning-data-1.html#cb242-2"></a><span class="kw">rename</span>(<span class="dt">.data =</span> dataframe, </span>
<span id="cb242-3"><a href="entering-and-cleaning-data-1.html#cb242-3"></a>       <span class="dt">new_column_name_1 =</span> old_column_name_<span class="dv">1</span>,</span>
<span id="cb242-4"><a href="entering-and-cleaning-data-1.html#cb242-4"></a>       <span class="dt">new_column_name_2 =</span> old_column_name_<span class="dv">2</span>)</span>
<span id="cb242-5"><a href="entering-and-cleaning-data-1.html#cb242-5"></a><span class="kw">select</span>(<span class="dt">.data =</span> dataframe, </span>
<span id="cb242-6"><a href="entering-and-cleaning-data-1.html#cb242-6"></a>       column_name_<span class="dv">1</span>, column_name_<span class="dv">2</span>)</span>
<span id="cb242-7"><a href="entering-and-cleaning-data-1.html#cb242-7"></a><span class="kw">filter</span>(<span class="dt">.data =</span> dataframe, </span>
<span id="cb242-8"><a href="entering-and-cleaning-data-1.html#cb242-8"></a>       logical expression)</span>
<span id="cb242-9"><a href="entering-and-cleaning-data-1.html#cb242-9"></a><span class="kw">mutate</span>(<span class="dt">.data =</span> dataframe,</span>
<span id="cb242-10"><a href="entering-and-cleaning-data-1.html#cb242-10"></a>       <span class="dt">changed_column =</span> <span class="cf">function</span>(changed_column),</span>
<span id="cb242-11"><a href="entering-and-cleaning-data-1.html#cb242-11"></a>       <span class="dt">new_column =</span> <span class="cf">function</span>(other arguments))</span></code></pre></div>
<p>Without piping, you have to reassign the dataframe object at each step of this
cleaning if you want the changes saved in the object:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="entering-and-cleaning-data-1.html#cb243-1"></a>daily_show &lt;-<span class="kw">read_csv</span>(<span class="dt">file =</span> <span class="st">&quot;data/daily_show_guests.csv&quot;</span>,</span>
<span id="cb243-2"><a href="entering-and-cleaning-data-1.html#cb243-2"></a>                      <span class="dt">skip =</span> <span class="dv">4</span>)</span>
<span id="cb243-3"><a href="entering-and-cleaning-data-1.html#cb243-3"></a>daily_show &lt;-<span class="st"> </span><span class="kw">rename</span>(<span class="dt">.data =</span> daily_show, </span>
<span id="cb243-4"><a href="entering-and-cleaning-data-1.html#cb243-4"></a>                     <span class="dt">job =</span> GoogleKnowlege_Occupation,</span>
<span id="cb243-5"><a href="entering-and-cleaning-data-1.html#cb243-5"></a>                     <span class="dt">date =</span> Show,</span>
<span id="cb243-6"><a href="entering-and-cleaning-data-1.html#cb243-6"></a>                     <span class="dt">category =</span> Group,</span>
<span id="cb243-7"><a href="entering-and-cleaning-data-1.html#cb243-7"></a>                     <span class="dt">guest_name =</span> Raw_Guest_List)</span>
<span id="cb243-8"><a href="entering-and-cleaning-data-1.html#cb243-8"></a>daily_show &lt;-<span class="st"> </span><span class="kw">select</span>(<span class="dt">.data =</span> daily_show, </span>
<span id="cb243-9"><a href="entering-and-cleaning-data-1.html#cb243-9"></a>                     <span class="op">-</span>YEAR) </span>
<span id="cb243-10"><a href="entering-and-cleaning-data-1.html#cb243-10"></a>daily_show &lt;-<span class="st"> </span><span class="kw">mutate</span>(<span class="dt">.data =</span> daily_show, </span>
<span id="cb243-11"><a href="entering-and-cleaning-data-1.html#cb243-11"></a>                     <span class="dt">job =</span> <span class="kw">str_to_lower</span>(job))</span>
<span id="cb243-12"><a href="entering-and-cleaning-data-1.html#cb243-12"></a>daily_show &lt;-<span class="st"> </span><span class="kw">filter</span>(<span class="dt">.data =</span> daily_show, </span>
<span id="cb243-13"><a href="entering-and-cleaning-data-1.html#cb243-13"></a>                     category <span class="op">==</span><span class="st"> &quot;Science&quot;</span>)</span></code></pre></div>
<p>Piping lets you clean this code up a bit. It can be used with any function that
inputs a dataframe as its first argument. It <em>pipes</em> the dataframe created right
before the pipe (<code>%&gt;%</code>) into the function right after the pipe. With piping,
therefore, the same data cleaning looks like:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="entering-and-cleaning-data-1.html#cb244-1"></a>daily_show &lt;-<span class="kw">read_csv</span>(<span class="dt">file =</span> <span class="st">&quot;data/daily_show_guests.csv&quot;</span>,</span>
<span id="cb244-2"><a href="entering-and-cleaning-data-1.html#cb244-2"></a>                      <span class="dt">skip =</span> <span class="dv">4</span>) <span class="op">%&gt;%</span></span>
<span id="cb244-3"><a href="entering-and-cleaning-data-1.html#cb244-3"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">job =</span> GoogleKnowlege_Occupation,</span>
<span id="cb244-4"><a href="entering-and-cleaning-data-1.html#cb244-4"></a>         <span class="dt">date =</span> Show,</span>
<span id="cb244-5"><a href="entering-and-cleaning-data-1.html#cb244-5"></a>         <span class="dt">category =</span> Group,</span>
<span id="cb244-6"><a href="entering-and-cleaning-data-1.html#cb244-6"></a>         <span class="dt">guest_name =</span> Raw_Guest_List) <span class="op">%&gt;%</span></span>
<span id="cb244-7"><a href="entering-and-cleaning-data-1.html#cb244-7"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>YEAR) <span class="op">%&gt;%</span></span>
<span id="cb244-8"><a href="entering-and-cleaning-data-1.html#cb244-8"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">job =</span> <span class="kw">str_to_lower</span>(job)) <span class="op">%&gt;%</span></span>
<span id="cb244-9"><a href="entering-and-cleaning-data-1.html#cb244-9"></a><span class="st">  </span><span class="kw">filter</span>(category <span class="op">==</span><span class="st"> &quot;Science&quot;</span>)</span></code></pre></div>
<p>Notice that, when piping, the first argument (the name of the dataframe) is
excluded from all function calls that follow a pipe. This is because piping
sends the dataframe from the last step into each of these functions as the
dataframe argument.</p>
<iframe width="659" height="412" src="https://www.youtube.com/embed/sD94JyvOMn4?list=PLuGPtwgRXxqIXVqTKUrnMT9Mhpl7eqCxl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><a href="https://github.com/geanders/RProgrammingForResearch/raw/master/slides/CourseNotes_Week2_part_10.pdf">Download</a> a pdf of the lecture slides for this video.</p>
<div id="base-r-equivalents-to-dplyr-functions" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Base R equivalents to <code>dplyr</code> functions</h3>
<p>Just so you know, all of these <code>dplyr</code> functions have alternatives, either
functions or processes, in base R:</p>
<table>
<thead>
<tr class="header">
<th align="left"><code>dplyr</code></th>
<th align="left">Base R equivalent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>rename</code></td>
<td align="left">Reassign <code>colnames</code></td>
</tr>
<tr class="even">
<td align="left"><code>select</code></td>
<td align="left">Square bracket indexing</td>
</tr>
<tr class="odd">
<td align="left"><code>filter</code></td>
<td align="left"><code>subset</code></td>
</tr>
<tr class="even">
<td align="left"><code>mutate</code></td>
<td align="left">Use <code>$</code> to change / create columns</td>
</tr>
</tbody>
</table>
<p>You will see these alternatives used in older code examples.</p>
</div>
</div>
<div id="in-course-exercise" class="section level2">
<h2><span class="header-section-number">2.7</span> In-course Exercise</h2>
<p>Use the <code>sample</code> function to determine the order for your group to rotate in
sharing screens.</p>
<div id="downloading-and-checking-out-the-example-data" class="section level3">
<h3><span class="header-section-number">2.7.1</span> Downloading and checking out the example data</h3>
<p>First, you’ll download a directory from GitHub that has the data for this
week’s exercise and explore the files in that directory.</p>
<p>Have the first person in your group share their screen. Then take the following
steps (everyone in the group should do this, but have one person share their
screen and talk through what they’re doing as you do this):</p>
<ul>
<li>Create an R Project directory to use as you practice coding for this class.
You may have already done this as you watched this week’s slides. If not,
take these steps: (1) Open RStudio; (2) In RStudio, go to “File” -&gt; “New Project”
-&gt; “New Directory” -&gt; “New Project”. This will prompt you to pick a name for your
R Project directory and also select where to save it. You can use a name like
“learn_r” for your Project and save it somewhere easy to find, like you Desktop
or Documents folder.</li>
<li>Download the whole directory for this week from Github
(<a href="https://github.com/geanders/week_2_data" class="uri">https://github.com/geanders/week_2_data</a>). To do that, go the the <a href="https://github.com/geanders/week_2_data">GitHub page
with data for this week’s exercise</a>
and, in the top right, click on the green “Code” button near the top right. When
you click on this green button, one of the choices that you see should be
“Download ZIP”. Click on this. This will download a compressed file with the
full directory of data, probably to your computer’s “Downloads” folder.</li>
<li>Next, “unzip” the zipped downloaded file from GitHub. To do this, try
double-clicking the file, or right click on the file and see if there’s a
“decompress” or “unzip” option. If you still don’t have much luck, try googling
how to unzip a zipped file on your computer’s operating system. You should end
up with six files and one directory (“measles_data”) which itself has sixteen files
inside).</li>
<li>Next move all these files/directories <strong>except “week_2_data.RProj”</strong> into
the R Project directory you created in the first step. Don’t do this in R, just
use whatever technique you usually use on your computer to move files between
directories (clicking and dragging the files from one folder to another, for
example).</li>
<li>Open RStudio to the Project you created in the first step, if you haven’t already.</li>
<li>Look through the structure of these files. What files are included? Which
files are <strong>flat files</strong>? For any flat files, look inside the files—you can
open them with RStudio or another text editor. If you are in your Project in
RStudio, look in the “Files” pane, click on the flat file’s name, and select
“View File” to get R to open the file with a text editor so you can look at the
structure of the file. Which flat files are <strong>delimited</strong> (one category of flat
files), and what are their delimiters?</li>
</ul>
</div>
<div id="reading-in-different-types-of-files" class="section level3">
<h3><span class="header-section-number">2.7.2</span> Reading in different types of files</h3>
<p>Now you’ll try reading in data from a variety of types of file formats. You will
be working with the files you downloaded in the last part of the exercise.</p>
<p>Switch the person in your group who is sharing their screen. Then try the
following tasks (there is example R code below if you get stuck):</p>
<ul>
<li>Create a new R script where you can put all the code you write for this exercise,
as you develop that code over the next few parts of the exercise. Create a
subdirectory in your course directory called “R” and save this script there
using a <code>.R</code> extension (e.g., “week_2.R”).</li>
<li>What type of flat file do you think the “ld_genetics.txt” file is? See if you
can read it in using a <code>readr</code> function (e.g., <code>read_delim</code>, <code>read_fwf</code>,
<code>read_tsv</code>, <code>read_csv</code>—pick depending on the type of file you think this is)
and save it as the R object <code>ld_genetics</code>. Use the <code>summary</code> function to check
out basic statistics on the data.</li>
<li>Check out the file “measles_data/02-09-2015.txt”. What type of flat file do
you think it is? Since it’s in a subdirectory, to read it into R, you’ll need to
tell R how to get to it from the project directory, using something called a
<strong>relative pathname</strong>. Read this file into R as an object named <code>ca_measles</code>,
using the relative pathname (“measles_data/02-09-2015.txt”) in place of the
file name in the <code>read_tsv</code> function call. Use the <code>col_names</code> option to name
the columns “city” and “count”. What would the default column names be if you
didn’t use this option (try this out by running <code>read_csv</code> without the
<code>col_names</code> option)?</li>
<li>Read in the Excel file “icd-10.xls” and assign it to the object name <code>idc10</code>.
Use the <a href="https://github.com/hadley/readxl"><code>readxl</code> package to do that</a>
(examples are at the bottom of the linked page).</li>
<li>Read in the SAS file <code>icu.sas7bdat</code>. To do this, use the <a href="https://github.com/hadley/haven"><code>haven</code>
package</a>. Read the file into the R object
<code>icu</code>.</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="entering-and-cleaning-data-1.html#cb245-1"></a><span class="co"># Load the `readr` package</span></span>
<span id="cb245-2"><a href="entering-and-cleaning-data-1.html#cb245-2"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;readr&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="entering-and-cleaning-data-1.html#cb246-1"></a><span class="co"># Use `read_tsv` to read this file. </span></span>
<span id="cb246-2"><a href="entering-and-cleaning-data-1.html#cb246-2"></a>ld_genetics &lt;-<span class="st"> </span><span class="kw">read_tsv</span>(<span class="dt">file =</span> <span class="st">&quot;ld_genetics.txt&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   pos = col_double(),
##   nA = col_double(),
##   nC = col_double(),
##   nG = col_double(),
##   nT = col_double(),
##   GCsk = col_double(),
##   TAsk = col_double(),
##   cGCsk = col_double(),
##   cTAsk = col_double()
## )</code></pre>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="entering-and-cleaning-data-1.html#cb248-1"></a><span class="kw">summary</span>(<span class="dt">object =</span> ld_genetics)</span></code></pre></div>
<pre><code>##       pos                nA            nC              nG       
##  Min.   :    500   Min.   :185   Min.   :120.0   Min.   : 85.0  
##  1st Qu.: 876000   1st Qu.:288   1st Qu.:173.0   1st Qu.:172.0  
##  Median :1751500   Median :308   Median :190.0   Median :189.0  
##  Mean   :1751500   Mean   :309   Mean   :191.9   Mean   :191.8  
##  3rd Qu.:2627000   3rd Qu.:329   3rd Qu.:209.0   3rd Qu.:208.0  
##  Max.   :3502500   Max.   :463   Max.   :321.0   Max.   :326.0  
##        nT             GCsk                TAsk              cGCsk      
##  Min.   :188.0   Min.   :-189.0000   Min.   :-254.000   Min.   : -453  
##  1st Qu.:286.0   1st Qu.: -30.0000   1st Qu.: -36.000   1st Qu.:10796  
##  Median :306.0   Median :   0.0000   Median :  -2.000   Median :23543  
##  Mean   :307.2   Mean   :  -0.1293   Mean   :  -1.736   Mean   :22889  
##  3rd Qu.:328.0   3rd Qu.:  29.0000   3rd Qu.:  32.500   3rd Qu.:34940  
##  Max.   :444.0   Max.   : 134.0000   Max.   : 205.000   Max.   :46085  
##      cTAsk      
##  Min.   :-6247  
##  1st Qu.: 1817  
##  Median : 7656  
##  Mean   : 7855  
##  3rd Qu.:15036  
##  Max.   :19049</code></pre>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="entering-and-cleaning-data-1.html#cb250-1"></a><span class="co"># Use `read_tsv` to read this file. Because the first line</span></span>
<span id="cb250-2"><a href="entering-and-cleaning-data-1.html#cb250-2"></a><span class="co"># of the file is *not* the column names, you need to specify what the column</span></span>
<span id="cb250-3"><a href="entering-and-cleaning-data-1.html#cb250-3"></a><span class="co"># names should be with the `col_names` parameter. </span></span>
<span id="cb250-4"><a href="entering-and-cleaning-data-1.html#cb250-4"></a>ca_measles &lt;-<span class="st"> </span><span class="kw">read_tsv</span>(<span class="dt">file =</span> <span class="st">&quot;measles_data/02-09-2015.txt&quot;</span>,</span>
<span id="cb250-5"><a href="entering-and-cleaning-data-1.html#cb250-5"></a>                       <span class="dt">col_names =</span> <span class="kw">c</span>(<span class="st">&quot;city&quot;</span>, <span class="st">&quot;count&quot;</span>))</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   city = col_character(),
##   count = col_double()
## )</code></pre>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="entering-and-cleaning-data-1.html#cb252-1"></a><span class="kw">head</span>(<span class="dt">x =</span> ca_measles)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   city               count
##   &lt;chr&gt;              &lt;dbl&gt;
## 1 ALAMEDA                6
## 2 LOS ANGELES           20
## 3 City of Long Beach     2
## 4 City of Pasadena       4
## 5 MARIN                  2
## 6 ORANGE                34</code></pre>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="entering-and-cleaning-data-1.html#cb254-1"></a><span class="co"># You&#39;ll need the `readxl` package to read in the Excel file. Load that. </span></span>
<span id="cb254-2"><a href="entering-and-cleaning-data-1.html#cb254-2"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;readxl&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="entering-and-cleaning-data-1.html#cb255-1"></a><span class="co"># Use the `read_excel` function to read in the file. </span></span>
<span id="cb255-2"><a href="entering-and-cleaning-data-1.html#cb255-2"></a>icd10 &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="dt">path =</span> <span class="st">&quot;icd-10.xls&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="entering-and-cleaning-data-1.html#cb256-1"></a><span class="kw">head</span>(<span class="dt">x =</span> icd10)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   Code    `ICD Title`                                       
##   &lt;chr&gt;   &lt;chr&gt;                                             
## 1 A00-B99 I. Certain infectious and parasitic diseases      
## 2 A00-A09 Intestinal infectious diseases                    
## 3 A00     Cholera                                           
## 4 A00.0   Cholera due to Vibrio cholerae 01, biovar cholerae
## 5 A00.1   Cholera due to Vibrio cholerae 01, biovar eltor   
## 6 A00.9   Cholera, unspecified</code></pre>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="entering-and-cleaning-data-1.html#cb258-1"></a><span class="co"># You&#39;ll need the `haven` function to read in the SAS file. Load that.</span></span>
<span id="cb258-2"><a href="entering-and-cleaning-data-1.html#cb258-2"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;haven&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="entering-and-cleaning-data-1.html#cb259-1"></a><span class="co"># Use the `read_sas` function to read in this file.</span></span>
<span id="cb259-2"><a href="entering-and-cleaning-data-1.html#cb259-2"></a>icu &lt;-<span class="st"> </span><span class="kw">read_sas</span>(<span class="dt">data_file =</span> <span class="st">&quot;icu.sas7bdat&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="entering-and-cleaning-data-1.html#cb260-1"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb260-2"><a href="entering-and-cleaning-data-1.html#cb260-2"></a><span class="kw">slice</span>(<span class="dt">.data =</span> <span class="kw">select</span>(<span class="dt">.data =</span> icu, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>), <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 5
##      ID   STA   AGE GENDER  RACE
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1     4     1    87      1     1
## 2     8     0    27      1     1
## 3    12     0    59      0     1
## 4    14     0    77      0     1
## 5    27     1    76      1     1</code></pre>
</div>
<div id="directory-structure-1" class="section level3">
<h3><span class="header-section-number">2.7.3</span> Directory structure</h3>
<p>Next, you’ll explore your current working directory and the files in that working
directory.</p>
<p>Switch the person in your group who is sharing their screen. Then try the
following tasks (there is example R code below if you get stuck):</p>
<ul>
<li>Make sure you have opened R and have moved into the R Project you created
at the beginning of this exercise.</li>
<li>In this Project directory, create a new subdirectory called “data” (if you
don’t already have that subdirectory—you may have created it if you followed
along with the code in the video lectures).</li>
<li>In the last two steps, you downloaded and explored some data files. These
should currently be in the main level of your R Project directory. Move these
into the “data” subdirectory you just created. For this, use whatever tools you
would normally use on your computer to move files from one directory to
another—you don’t have to do this part in R. Keep the “measles” data in its
own subdirectory (so, the “data” subdirectory of your project will have its own
“measles” subdirectory, which will have those files).</li>
<li>Check that you are, in fact, in the working directory you think you’re in. Run:</li>
</ul>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="entering-and-cleaning-data-1.html#cb262-1"></a><span class="kw">getwd</span>()</span></code></pre></div>
<p>Does it agree with the R project name in the top right hand corner of your R
Studio window?</p>
<ul>
<li>Now, use the <code>list.files</code> function to print out which files or subdirectories
you have in your current working directory (the R Project directory):</li>
</ul>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="entering-and-cleaning-data-1.html#cb263-1"></a><span class="kw">list.files</span>()</span></code></pre></div>
<p>What results do you get when you run this call? Is this what you were expecting?
- While staying in the same working directory, used <code>list.files()</code> to print the
names of the available files in the “data” subdirectory using the <code>path</code>
argument.
- Now see if you can use <code>list.files()</code> to list all the files in
the “measles_data” subdirectory.
- Read into R the ebola data in <code>country_timeseries.csv</code> using the appropriate
<code>readr</code> function. This will require you to use a relative filename to direct R
to how to find that file in the “data” subdirectory of your current working
directory. Assign the data you read as an R object named <code>ebola</code>.
- How many rows and
columns does the <code>ebola</code> dataframe you just created have? What are the names of the columns?</p>
<p>Example R code:</p>
<p>In the early steps, you only need to run the suggested code (<code>getwd()</code> and <code>list.files()</code>)</p>
<p>Next, while staying in the same working directory, used <code>list.files()</code> to print the
names of the available files in the “data” subdirectory by using the <code>path</code>
argument. How about in the “R” subdirectory (if you have one)?</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="entering-and-cleaning-data-1.html#cb264-1"></a><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="st">&quot;data&quot;</span>)</span>
<span id="cb264-2"><a href="entering-and-cleaning-data-1.html#cb264-2"></a><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="st">&quot;R&quot;</span>)</span></code></pre></div>
<p>Note that you can use <code>list.files</code> to list the files in your “data” subdirectory using either:
+ A relative pathname
+ An absolute pathname</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="entering-and-cleaning-data-1.html#cb265-1"></a><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="st">&quot;data&quot;</span>) <span class="co"># This is using a relative pathname</span></span>
<span id="cb265-2"><a href="entering-and-cleaning-data-1.html#cb265-2"></a><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="st">&quot;/Users/brookeanderson/Documents/r_course_2018/data&quot;</span>) <span class="co"># Absolute pathname</span></span>
<span id="cb265-3"><a href="entering-and-cleaning-data-1.html#cb265-3"></a>     <span class="co"># (Yours will be different and will depend on how your computer file</span></span>
<span id="cb265-4"><a href="entering-and-cleaning-data-1.html#cb265-4"></a>     <span class="co"># structure is set up.)</span></span></code></pre></div>
<p>Now use a relative pathname along with <code>list.files()</code> to list all the files in
the “measles_data” subdirectory.</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="entering-and-cleaning-data-1.html#cb266-1"></a><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="st">&quot;data/measles_data&quot;</span>)</span></code></pre></div>
<p>Read in the Ebola data in <code>country_timeseries.csv</code> from your current working
directory using the appropriate <code>readr</code> function and a relative pathname. This
will require you to use a relative filename to direct R to how to find that file
in the “data” subdirectory of your current working directory.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="entering-and-cleaning-data-1.html#cb267-1"></a><span class="kw">library</span>(<span class="st">&quot;readr&quot;</span>)</span>
<span id="cb267-2"><a href="entering-and-cleaning-data-1.html#cb267-2"></a>ebola &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="dt">file =</span> <span class="st">&quot;data/country_timeseries.csv&quot;</span>)</span></code></pre></div>
<p>How many rows and columns does it have? What are the names of the columns?</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="entering-and-cleaning-data-1.html#cb268-1"></a><span class="kw">dim</span>(<span class="dt">x =</span> ebola)    <span class="co"># Get the dimensions of the data (`nrow` and `ncol` would also work)</span></span>
<span id="cb268-2"><a href="entering-and-cleaning-data-1.html#cb268-2"></a><span class="kw">colnames</span>(<span class="dt">x =</span> ebola) <span class="co"># Get the column names (you can also just print the object: `ebola`)</span></span></code></pre></div>
<p>If you have extra time:</p>
<ul>
<li>Find out some more about this Ebola dataset by checking out <a href="https://github.com/cmrivers/ebola">Caitlin Rivers’
Ebola data GitHub repository</a>. Who is Caitlin
Rivers? How did she put this dataset together?</li>
<li>Search for R code related to Ebola research on GitHub. Go to the <a href="https://github.com">GitHub home
page</a> and use the search bar to search for “ebola”. On the
results page, scroll down and use the “Language” sidebar on the left to choose
repositories with R code. Did you find any interesting projects?</li>
<li>When you <code>list.files()</code> for the “data” subdirectory, almost everything listed
has a file extension, like <code>.csv</code>, <code>.xls</code>, <code>.sas7bdat</code>. One thing does not.
Which one? Why does this listing not have a file extension?</li>
</ul>
</div>
<div id="cleaning-up-data-1" class="section level3">
<h3><span class="header-section-number">2.7.4</span> Cleaning up data #1</h3>
<p>Switch the person in your group who is sharing their screen. Then try out the
following tasks:</p>
<ul>
<li>Copy the following code into an R script. Figure out what each line does, and
add comments to each line of code describing what the code is doing. Use the
helpfiles for functions as needed to figure out functions we haven’t covered yet.</li>
</ul>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="entering-and-cleaning-data-1.html#cb269-1"></a><span class="co"># Copy this code to an R script and add comments describing what each line is doing</span></span>
<span id="cb269-2"><a href="entering-and-cleaning-data-1.html#cb269-2"></a><span class="co"># Install any packages that the code loads but that you don&#39;t have.</span></span>
<span id="cb269-3"><a href="entering-and-cleaning-data-1.html#cb269-3"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;haven&quot;</span>)</span>
<span id="cb269-4"><a href="entering-and-cleaning-data-1.html#cb269-4"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;forcats&quot;</span>)</span>
<span id="cb269-5"><a href="entering-and-cleaning-data-1.html#cb269-5"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;stringr&quot;</span>)</span>
<span id="cb269-6"><a href="entering-and-cleaning-data-1.html#cb269-6"></a></span>
<span id="cb269-7"><a href="entering-and-cleaning-data-1.html#cb269-7"></a>icu &lt;-<span class="st"> </span><span class="kw">read_sas</span>(<span class="dt">data_file =</span> <span class="st">&quot;data/icu.sas7bdat&quot;</span>)</span>
<span id="cb269-8"><a href="entering-and-cleaning-data-1.html#cb269-8"></a></span>
<span id="cb269-9"><a href="entering-and-cleaning-data-1.html#cb269-9"></a>icu &lt;-<span class="st"> </span><span class="kw">select</span>(<span class="dt">.data =</span> icu, ID, AGE, GENDER)</span>
<span id="cb269-10"><a href="entering-and-cleaning-data-1.html#cb269-10"></a></span>
<span id="cb269-11"><a href="entering-and-cleaning-data-1.html#cb269-11"></a>icu &lt;-<span class="st"> </span><span class="kw">rename</span>(<span class="dt">.data =</span> icu, </span>
<span id="cb269-12"><a href="entering-and-cleaning-data-1.html#cb269-12"></a>              <span class="dt">id =</span> ID,</span>
<span id="cb269-13"><a href="entering-and-cleaning-data-1.html#cb269-13"></a>              <span class="dt">age =</span> AGE,</span>
<span id="cb269-14"><a href="entering-and-cleaning-data-1.html#cb269-14"></a>              <span class="dt">gender =</span> GENDER)</span>
<span id="cb269-15"><a href="entering-and-cleaning-data-1.html#cb269-15"></a></span>
<span id="cb269-16"><a href="entering-and-cleaning-data-1.html#cb269-16"></a>icu &lt;-<span class="st"> </span><span class="kw">mutate</span>(<span class="dt">.data =</span> icu,</span>
<span id="cb269-17"><a href="entering-and-cleaning-data-1.html#cb269-17"></a>              <span class="dt">gender =</span> <span class="kw">as_factor</span>(<span class="dt">x =</span> gender),</span>
<span id="cb269-18"><a href="entering-and-cleaning-data-1.html#cb269-18"></a>              <span class="dt">gender =</span> <span class="kw">fct_recode</span>(<span class="dt">.f =</span> gender,</span>
<span id="cb269-19"><a href="entering-and-cleaning-data-1.html#cb269-19"></a>                                  <span class="dt">Male =</span> <span class="st">&quot;0&quot;</span>,</span>
<span id="cb269-20"><a href="entering-and-cleaning-data-1.html#cb269-20"></a>                                  <span class="dt">Female =</span> <span class="st">&quot;1&quot;</span>),</span>
<span id="cb269-21"><a href="entering-and-cleaning-data-1.html#cb269-21"></a>              <span class="dt">id =</span> <span class="kw">str_c</span>(id)) </span>
<span id="cb269-22"><a href="entering-and-cleaning-data-1.html#cb269-22"></a></span>
<span id="cb269-23"><a href="entering-and-cleaning-data-1.html#cb269-23"></a>icu</span></code></pre></div>
<ul>
<li>Following previous parts of the in-course exercise, you have an R object
called <code>ebola</code> (if you need to, use some code from earlier in this in-course
exercise to read in the data and create that object). Create an object called
<code>ebola_liberia</code> that only has the columns with the date and the number of cases
and deaths in Liberia. How many columns does this new dataframe have? How many
observations?</li>
<li>Change the column names to <code>date</code>, <code>cases</code>, and <code>deaths</code>.</li>
<li>Add a column called <code>ratio</code> that has the ratio of deaths to cases for each
observation (i.e., death counts divided by case counts).</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="entering-and-cleaning-data-1.html#cb270-1"></a><span class="co"># Load the dplyr package</span></span>
<span id="cb270-2"><a href="entering-and-cleaning-data-1.html#cb270-2"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb270-3"><a href="entering-and-cleaning-data-1.html#cb270-3"></a></span>
<span id="cb270-4"><a href="entering-and-cleaning-data-1.html#cb270-4"></a><span class="co">## Create a subset with just the Liberia columns and Date</span></span>
<span id="cb270-5"><a href="entering-and-cleaning-data-1.html#cb270-5"></a>ebola_liberia &lt;-<span class="st"> </span><span class="kw">select</span>(<span class="dt">.data =</span> ebola, </span>
<span id="cb270-6"><a href="entering-and-cleaning-data-1.html#cb270-6"></a>                        Date, Cases_Liberia, Deaths_Liberia)</span>
<span id="cb270-7"><a href="entering-and-cleaning-data-1.html#cb270-7"></a><span class="kw">head</span>(<span class="dt">x =</span> ebola_liberia)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   Date       Cases_Liberia Deaths_Liberia
##   &lt;chr&gt;              &lt;dbl&gt;          &lt;dbl&gt;
## 1 1/5/2015              NA             NA
## 2 1/4/2015              NA             NA
## 3 1/3/2015            8166           3496
## 4 1/2/2015            8157           3496
## 5 12/31/2014          8115           3471
## 6 12/28/2014          8018           3423</code></pre>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="entering-and-cleaning-data-1.html#cb272-1"></a><span class="co">## How many colums and rows does the whole dataset have (could also use `dim`)?</span></span>
<span id="cb272-2"><a href="entering-and-cleaning-data-1.html#cb272-2"></a><span class="kw">ncol</span>(<span class="dt">x =</span> ebola_liberia)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="entering-and-cleaning-data-1.html#cb274-1"></a><span class="kw">nrow</span>(<span class="dt">x =</span> ebola_liberia)</span></code></pre></div>
<pre><code>## [1] 122</code></pre>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="entering-and-cleaning-data-1.html#cb276-1"></a><span class="co">## Rename the columns</span></span>
<span id="cb276-2"><a href="entering-and-cleaning-data-1.html#cb276-2"></a>ebola_liberia &lt;-<span class="st"> </span><span class="kw">rename</span>(<span class="dt">.data =</span> ebola_liberia,</span>
<span id="cb276-3"><a href="entering-and-cleaning-data-1.html#cb276-3"></a>                        <span class="dt">date =</span> Date,</span>
<span id="cb276-4"><a href="entering-and-cleaning-data-1.html#cb276-4"></a>                        <span class="dt">cases =</span> Cases_Liberia,</span>
<span id="cb276-5"><a href="entering-and-cleaning-data-1.html#cb276-5"></a>                        <span class="dt">deaths =</span> Deaths_Liberia)</span>
<span id="cb276-6"><a href="entering-and-cleaning-data-1.html#cb276-6"></a><span class="kw">head</span>(ebola_liberia)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   date       cases deaths
##   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;
## 1 1/5/2015      NA     NA
## 2 1/4/2015      NA     NA
## 3 1/3/2015    8166   3496
## 4 1/2/2015    8157   3496
## 5 12/31/2014  8115   3471
## 6 12/28/2014  8018   3423</code></pre>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="entering-and-cleaning-data-1.html#cb278-1"></a><span class="co">## Add a `ratio` column</span></span>
<span id="cb278-2"><a href="entering-and-cleaning-data-1.html#cb278-2"></a>ebola_liberia &lt;-<span class="st"> </span><span class="kw">mutate</span>(<span class="dt">.data =</span> ebola_liberia, </span>
<span id="cb278-3"><a href="entering-and-cleaning-data-1.html#cb278-3"></a>                        <span class="dt">ratio =</span> deaths <span class="op">/</span><span class="st"> </span>cases)</span>
<span id="cb278-4"><a href="entering-and-cleaning-data-1.html#cb278-4"></a><span class="kw">head</span>(<span class="dt">x =</span> ebola_liberia)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   date       cases deaths  ratio
##   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 1/5/2015      NA     NA NA    
## 2 1/4/2015      NA     NA NA    
## 3 1/3/2015    8166   3496  0.428
## 4 1/2/2015    8157   3496  0.429
## 5 12/31/2014  8115   3471  0.428
## 6 12/28/2014  8018   3423  0.427</code></pre>
</div>
<div id="cleaning-up-data-2" class="section level3">
<h3><span class="header-section-number">2.7.5</span> Cleaning up data #2</h3>
<p>Switch the person in your group who is sharing their screen. Then try out the
following tasks:</p>
<ul>
<li>Filter out all rows from the <code>ebola_liberia</code> dataframe that are missing death
counts for Liberia. How many rows are in the dataframe now?</li>
<li>Create a new object called <code>first_five</code> that has only the five observations
with the highest death counts in Liberia. What date in this dataset had the most
deaths?</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="entering-and-cleaning-data-1.html#cb280-1"></a><span class="co">## Filter out the rows that are missing death counts for Liberia</span></span>
<span id="cb280-2"><a href="entering-and-cleaning-data-1.html#cb280-2"></a>ebola_liberia &lt;-<span class="st"> </span><span class="kw">filter</span>(<span class="dt">.data =</span> ebola_liberia, </span>
<span id="cb280-3"><a href="entering-and-cleaning-data-1.html#cb280-3"></a>                        <span class="op">!</span><span class="kw">is.na</span>(deaths))</span>
<span id="cb280-4"><a href="entering-and-cleaning-data-1.html#cb280-4"></a><span class="kw">head</span>(<span class="dt">x =</span> ebola_liberia)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   date       cases deaths ratio
##   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1 1/3/2015    8166   3496 0.428
## 2 1/2/2015    8157   3496 0.429
## 3 12/31/2014  8115   3471 0.428
## 4 12/28/2014  8018   3423 0.427
## 5 12/24/2014  7977   3413 0.428
## 6 12/20/2014  7862   3384 0.430</code></pre>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="entering-and-cleaning-data-1.html#cb282-1"></a><span class="kw">nrow</span>(<span class="dt">x =</span> ebola_liberia)</span></code></pre></div>
<pre><code>## [1] 81</code></pre>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="entering-and-cleaning-data-1.html#cb284-1"></a><span class="co">## Create an object with just the top five observations in terms of death counts</span></span>
<span id="cb284-2"><a href="entering-and-cleaning-data-1.html#cb284-2"></a>first_five &lt;-<span class="st"> </span><span class="kw">arrange</span>(<span class="dt">.data =</span> ebola_liberia, </span>
<span id="cb284-3"><a href="entering-and-cleaning-data-1.html#cb284-3"></a>                      <span class="kw">desc</span>(deaths)) <span class="co"># First, rearrange the rows by deaths</span></span>
<span id="cb284-4"><a href="entering-and-cleaning-data-1.html#cb284-4"></a>first_five &lt;-<span class="st"> </span><span class="kw">slice</span>(<span class="dt">.data =</span> first_five, </span>
<span id="cb284-5"><a href="entering-and-cleaning-data-1.html#cb284-5"></a>                    <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) <span class="co"># Limit the dataframe to the first five rows</span></span>
<span id="cb284-6"><a href="entering-and-cleaning-data-1.html#cb284-6"></a>first_five <span class="co"># Two days tied for the highest deaths counts (Jan. 2 and 3, 2015).</span></span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##   date       cases deaths ratio
##   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1 1/3/2015    8166   3496 0.428
## 2 1/2/2015    8157   3496 0.429
## 3 12/31/2014  8115   3471 0.428
## 4 12/28/2014  8018   3423 0.427
## 5 12/24/2014  7977   3413 0.428</code></pre>
</div>
<div id="piping-1" class="section level3">
<h3><span class="header-section-number">2.7.6</span> Piping</h3>
<p>Switch the person in your group who is sharing their screen. Then try out the
following tasks:</p>
<ul>
<li>Copy the following “piped” code into an R script. Figure out what each line
does, and add comments to each line of code describing what the code is doing.</li>
</ul>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="entering-and-cleaning-data-1.html#cb286-1"></a><span class="co"># Copy this code to an R script and add comments describing what each line is doing</span></span>
<span id="cb286-2"><a href="entering-and-cleaning-data-1.html#cb286-2"></a><span class="kw">library</span>(<span class="dt">package =</span> <span class="st">&quot;haven&quot;</span>)</span>
<span id="cb286-3"><a href="entering-and-cleaning-data-1.html#cb286-3"></a>icu &lt;-<span class="st"> </span><span class="kw">read_sas</span>(<span class="dt">data_file =</span> <span class="st">&quot;data/icu.sas7bdat&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb286-4"><a href="entering-and-cleaning-data-1.html#cb286-4"></a><span class="st">  </span><span class="kw">select</span>(ID, AGE, GENDER) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb286-5"><a href="entering-and-cleaning-data-1.html#cb286-5"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">id =</span> ID,</span>
<span id="cb286-6"><a href="entering-and-cleaning-data-1.html#cb286-6"></a>         <span class="dt">age =</span> AGE, </span>
<span id="cb286-7"><a href="entering-and-cleaning-data-1.html#cb286-7"></a>         <span class="dt">gender =</span> GENDER) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb286-8"><a href="entering-and-cleaning-data-1.html#cb286-8"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gender =</span> <span class="kw">as_factor</span>(<span class="dt">x =</span> gender),</span>
<span id="cb286-9"><a href="entering-and-cleaning-data-1.html#cb286-9"></a>         <span class="dt">gender =</span> <span class="kw">fct_recode</span>(<span class="dt">.f =</span> gender, </span>
<span id="cb286-10"><a href="entering-and-cleaning-data-1.html#cb286-10"></a>                             <span class="dt">Male =</span> <span class="st">&quot;0&quot;</span>,</span>
<span id="cb286-11"><a href="entering-and-cleaning-data-1.html#cb286-11"></a>                             <span class="dt">Female =</span> <span class="st">&quot;1&quot;</span>),</span>
<span id="cb286-12"><a href="entering-and-cleaning-data-1.html#cb286-12"></a>         <span class="dt">id =</span> <span class="kw">str_c</span>(id)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb286-13"><a href="entering-and-cleaning-data-1.html#cb286-13"></a><span class="st">  </span><span class="kw">arrange</span>(age) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb286-14"><a href="entering-and-cleaning-data-1.html#cb286-14"></a><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span>
<span id="cb286-15"><a href="entering-and-cleaning-data-1.html#cb286-15"></a></span>
<span id="cb286-16"><a href="entering-and-cleaning-data-1.html#cb286-16"></a>icu</span></code></pre></div>
<ul>
<li>In previous sections of the in-course exercise, you have created code to read
in and clean the Ebola dataset to create <code>ebola_liberia</code>. This included the
following cleaning steps: (1) selecting certain columns, (2) renaming those
columns, (3) adding a <code>ratio</code> column, and (4)
removing observations for which the count of deaths in Liberia is missing.
Re-write this code to create and clean <code>ebola_liberia</code> as “piped” code. Start
from reading in the raw data.</li>
</ul>
<p>Example R code:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="entering-and-cleaning-data-1.html#cb287-1"></a>ebola_liberia &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="dt">file =</span> <span class="st">&quot;data/country_timeseries.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb287-2"><a href="entering-and-cleaning-data-1.html#cb287-2"></a><span class="st">  </span><span class="kw">select</span>(Date, Cases_Liberia, Deaths_Liberia) <span class="op">%&gt;%</span><span class="st">  </span></span>
<span id="cb287-3"><a href="entering-and-cleaning-data-1.html#cb287-3"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">date =</span> Date, </span>
<span id="cb287-4"><a href="entering-and-cleaning-data-1.html#cb287-4"></a>         <span class="dt">cases =</span> Cases_Liberia, </span>
<span id="cb287-5"><a href="entering-and-cleaning-data-1.html#cb287-5"></a>         <span class="dt">deaths =</span> Deaths_Liberia) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb287-6"><a href="entering-and-cleaning-data-1.html#cb287-6"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ratio =</span> deaths <span class="op">/</span><span class="st"> </span>cases) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb287-7"><a href="entering-and-cleaning-data-1.html#cb287-7"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(<span class="dt">x =</span> cases))</span>
<span id="cb287-8"><a href="entering-and-cleaning-data-1.html#cb287-8"></a></span>
<span id="cb287-9"><a href="entering-and-cleaning-data-1.html#cb287-9"></a><span class="kw">head</span>(<span class="dt">x =</span> ebola_liberia)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   date       cases deaths ratio
##   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1 1/3/2015    8166   3496 0.428
## 2 1/2/2015    8157   3496 0.429
## 3 12/31/2014  8115   3471 0.428
## 4 12/28/2014  8018   3423 0.427
## 5 12/24/2014  7977   3413 0.428
## 6 12/20/2014  7862   3384 0.430</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-preliminaries.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exploring-data-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/geanders/RProgrammingForResearch/edit/master/02-databasics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["RProgrammingForResearch.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
